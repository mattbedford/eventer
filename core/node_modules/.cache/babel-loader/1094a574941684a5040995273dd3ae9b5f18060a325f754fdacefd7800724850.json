{"ast":null,"code":"import auth from '@/assets/auth';\nimport 'vue-good-table/dist/vue-good-table.css';\nimport { VueGoodTable } from 'vue-good-table';\nexport default {\n  name: 'CouponsManagement',\n  components: {\n    VueGoodTable\n  },\n  data() {\n    return {\n      couponsList: [],\n      columns: [{\n        label: 'Coupon',\n        field: 'coupon_title'\n      }, {\n        label: 'Discount %',\n        field: 'discount'\n      }, {\n        label: 'Recipient',\n        field: 'recipient_name'\n      }, {\n        label: 'For guests?',\n        field: this.guest_check\n      }, {\n        label: 'Invitation type',\n        field: 'invitation_type'\n      }, {\n        label: 'Invitation display',\n        field: this.headlinersCheck\n      }, {\n        label: 'Max uses',\n        field: 'max_uses'\n      }, {\n        label: 'Actual uses',\n        field: 'actual_uses'\n      }, {\n        label: 'View/Edit',\n        field: 'edit'\n      }]\n    };\n  },\n  components: {},\n  methods: {\n    async grabCoupons() {\n      this.couponsList = [];\n      const url = auth.allCoupons;\n      const headers = {\n        credentials: 'same-origin',\n        'Content-Type': 'application/json',\n        'X-WP-Nonce': this.nonce\n      };\n      fetch(url, {\n        method: 'GET',\n        headers\n      }).then(result => result.json()).then(result => {\n        this.couponsList = result;\n      });\n    },\n    guestCheck(rowObj) {\n      if (rowObj.guest_status === 1) {\n        return \"Yes\";\n      }\n      return \"No\";\n    },\n    headlinersCheck(rowObj) {\n      if (rowObj.headliners.length >= 1) {\n        return \"Custom\";\n      }\n      return \"Standard\";\n    }\n  },\n  mounted() {\n    this.grabCoupons();\n  }\n};","map":{"version":3,"mappings":"AA6BA;AACA;AACA;AAEA;EACAA;EACAC;IAAAC;EAAA;EACAC;IACA;MACAC;MACAC,UACA;QACAC;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA;IAEA;EACA;EACAN;EACAO;IACA;MACA;MACA;MACA;QACAC;QACA;QACA;MACA;MACAC;QAAAC;QAAAC;MAAA,GACAC,8BACAA;QAAA;MAAA;IACA;IACAC;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;IACA;EACA;EACAC;IACA;EACA;AAEA","names":["name","components","VueGoodTable","data","couponsList","columns","label","field","methods","credentials","fetch","method","headers","then","guestCheck","headlinersCheck","mounted"],"sourceRoot":"src/components","sources":["couponsManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"sub-section\">\r\n    <vue-good-table\r\n            :columns=\"columns\"\r\n            :rows=\"couponsList\"\r\n            theme=\"black-rhino\"\r\n            :search-options=\"{\r\n              enabled: true\r\n            }\"\r\n            :pagination-options=\"{\r\n                enabled: true,\r\n                perPage: 50,\r\n                position: 'bottom',\r\n            }\">\r\n            <div slot=\"table-actions\">\r\n              <button class=\"create-new-coupon\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ionicon\" viewBox=\"0 0 512 512\"><path d=\"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 0 1-32 0v-64h-64a16 16 0 0 1 0-32h64v-64a16 16 0 0 1 32 0v64h64a16 16 0 0 1 0 32z\"/></svg>\r\n              </button>\r\n            </div>\r\n            <template slot=\"table-row\" slot-scope=\"props\">\r\n                <span v-if=\"props.column.field == 'edit'\">\r\n                    <button @click=\"editRegistrant(props.row.originalIndex)\">Edit</button>\r\n                </span>\r\n            </template>\r\n        </vue-good-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport auth from '@/assets/auth';\r\nimport 'vue-good-table/dist/vue-good-table.css';\r\nimport { VueGoodTable } from 'vue-good-table';\r\n\r\nexport default {\r\n  name: 'CouponsManagement',\r\n  components: {VueGoodTable},\r\n  data() {\r\n    return {\r\n      couponsList: [],\r\n      columns: [\r\n        {\r\n          label: 'Coupon',\r\n          field: 'coupon_title',\r\n        },\r\n        {\r\n          label: 'Discount %',\r\n          field: 'discount',\r\n        },\r\n        {\r\n          label: 'Recipient',\r\n          field: 'recipient_name',\r\n        },\r\n        {\r\n          label: 'For guests?',\r\n          field: this.guest_check,\r\n        },\r\n        {\r\n          label: 'Invitation type',\r\n          field: 'invitation_type',\r\n        },\r\n        {\r\n          label: 'Invitation display',\r\n          field: this.headlinersCheck,\r\n        },\r\n        {\r\n          label: 'Max uses',\r\n          field: 'max_uses',\r\n        },\r\n        {\r\n          label: 'Actual uses',\r\n          field: 'actual_uses',\r\n        },\r\n        {\r\n          label: 'View/Edit',\r\n          field: 'edit',\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  components: {},\r\n  methods: {\r\n    async grabCoupons() {\r\n      this.couponsList = [];\r\n      const url = auth.allCoupons;\r\n      const headers = {\r\n        credentials: 'same-origin',\r\n        'Content-Type': 'application/json',\r\n        'X-WP-Nonce': this.nonce,\r\n      };\r\n      fetch(url, { method: 'GET', headers })\r\n        .then((result) => result.json())\r\n        .then((result) => { this.couponsList = result; });\r\n    },\r\n    guestCheck(rowObj) {\r\n      if (rowObj.guest_status === 1) {\r\n        return \"Yes\";\r\n      }\r\n      return \"No\";\r\n    },\r\n    headlinersCheck(rowObj) {\r\n      if(rowObj.headliners.length >= 1) {\r\n        return \"Custom\";\r\n      }\r\n      return \"Standard\";\r\n    },\r\n  },\r\n  mounted() {\r\n    this.grabCoupons();\r\n  },\r\n\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}