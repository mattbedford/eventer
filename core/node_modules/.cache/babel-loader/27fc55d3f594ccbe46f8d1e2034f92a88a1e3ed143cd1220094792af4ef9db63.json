{"ast":null,"code":"import auth from '@/assets/auth';\nimport MessageAnnounce from './MessageAnnounce.vue';\nexport default {\n  data() {\n    return {\n      announce: null,\n      registrationsDesk: [],\n      filter: ''\n    };\n  },\n  components: {\n    MessageAnnounce\n  },\n  mounted() {\n    this.grabAllRegistrations();\n  },\n  computed: {\n    filteredRows() {\n      return this.registrationsDesk.filter(row => {\n        const company = row.company.toString().toLowerCase();\n        const name = row.name.toLowerCase();\n        const surname = row.surname.toLowerCase();\n        const searchTerm = this.filter.toLowerCase();\n        return company.includes(searchTerm) || name.includes(searchTerm) || surname.includes(searchTerm);\n      });\n    }\n  },\n  methods: {\n    async updateAttendance(id) {\n      console.log(id);\n    },\n    async grabAllRegistrations() {\n      this.registrationsList = [];\n      const url = auth.allRegistrations;\n      const headers = {\n        credentials: 'same-origin',\n        'Content-Type': 'application/json',\n        'X-WP-Nonce': this.nonce\n      };\n      fetch(url, {\n        method: 'GET',\n        headers\n      }).then(result => result.json()).then(result => {\n        this.registrationsDesk = result;\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AA6CA;AACA;AAEA;EAEAA;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;QACA;QACA;QACA;QACA;QAEA,uCACAC,6BACAC;MACA;IACA;EACA;EACAC;IACA;MACAC;IACA;IACA;MACA;MACA;MACA;QACAC;QACA;QACA;MACA;MACAC;QAAAC;QAAAC;MAAA,GACAC,8BACAA;QAAA;MAAA;IACA;EACA;AACA","names":["data","announce","registrationsDesk","filter","components","MessageAnnounce","mounted","computed","filteredRows","name","surname","methods","console","credentials","fetch","method","headers","then"],"sourceRoot":"src/components","sources":["FrontDesk.vue"],"sourcesContent":["<template>\r\n    <div class=\"front-desk sub-section\">\r\n        <h2>Front Desk</h2>\r\n        <message-announce v-if=\"announce\" :message=\"announce\" @closeMessage=\"killMessage()\" />\r\n        <div class=\"my-front-desk\">\r\n          <div class=\"registrations-list\">\r\n            <table>\r\n              <div class=\"text-filter\">\r\n                <label for=\"textfilter\">\r\n                  <input name=\"textfilter\" type=\"text\" placeholder=\"Filter/Search\"\r\n                  v-model=\"filter\" />\r\n                </label>\r\n              </div>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Surname</th>\r\n                <th>Company</th>\r\n                <th>Badge link</th>\r\n                <th>Attended</th>\r\n              </tr>\r\n              <tr v-for=\"i in filteredRows\" :key=\"i.id\">\r\n                <td v-html=\"i.name\"></td>\r\n                <td v-html=\"i.surname\"></td>\r\n                <td v-html=\"i.company\"></td>\r\n                <td><a :href=\"i.badge_link\" target=\"_blank\">Badge</a></td>\r\n                <td>\r\n                  <label :for=\"i.id\">\r\n                    <input type=\"checkbox\"\r\n                      :id=\"i.id\"\r\n                      :checked=\"i.attended\"\r\n                      @change=\"updateAttendance(i.id)\"\r\n                    />\r\n                  </label>\r\n                </td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n          <div class=\"registration form\">\r\n\r\n          </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport auth from '@/assets/auth';\r\nimport MessageAnnounce from './MessageAnnounce.vue';\r\n\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n      announce: null,\r\n      registrationsDesk: [],\r\n      filter: '',\r\n    };\r\n  },\r\n  components: {\r\n    MessageAnnounce,\r\n  },\r\n  mounted() {\r\n    this.grabAllRegistrations();\r\n  },\r\n  computed: {\r\n    filteredRows() {\r\n      return this.registrationsDesk.filter((row) => {\r\n        const company = row.company.toString().toLowerCase();\r\n        const name = row.name.toLowerCase();\r\n        const surname = row.surname.toLowerCase();\r\n        const searchTerm = this.filter.toLowerCase();\r\n\r\n        return company.includes(searchTerm)\r\n      || name.includes(searchTerm)\r\n      || surname.includes(searchTerm);\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    async updateAttendance(id) {\r\n      console.log(id);\r\n    },\r\n    async grabAllRegistrations() {\r\n      this.registrationsList = [];\r\n      const url = auth.allRegistrations;\r\n      const headers = {\r\n        credentials: 'same-origin',\r\n        'Content-Type': 'application/json',\r\n        'X-WP-Nonce': this.nonce,\r\n      };\r\n      fetch(url, { method: 'GET', headers })\r\n        .then((result) => result.json())\r\n        .then((result) => { this.registrationsDesk = result; });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}