(function(){"use strict";var e={4601:function(e,t,n){var o=n(6369),a=n(3993),s=function(){var e=this,t=e._self._c;return t("div",[t("NavBar",{attrs:{selected:"currentPage"},on:{pageSelect:e.goToPage}}),"setup"==e.currentPage?t("section",{staticClass:"admin-main"},[t("h2",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z"}}),t("path",{attrs:{d:"m490.91 244.15-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"}})]),e._v(" Event setup")]),t("setup")],1):e._e(),"desk"==e.currentPage?t("section",{staticClass:"admin-main"},[t("h2",[t("svg",{staticStyle:{width:"20px",height:"20px"},attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.0",viewBox:"0 0 1588 1600"}},[t("path",{attrs:{d:"M778 .7c-39.6 3.8-74.6 18-104.5 42.4-10.3 8.3-27 26.1-34.7 37-53.5 75.1-45.9 176.2 18.1 242.2 31.5 32.6 70.5 51.9 115.1 57.2 57.4 6.8 114.6-13.2 156-54.6 46.4-46.4 65.5-111.9 51.4-175.8-3.6-16-7.3-26.3-15.9-43.6-18.7-37.7-47-66-85-85-22.1-11-41.5-16.8-65.7-19.4-9.1-1-26.7-1.2-34.8-.4zM670.5 414.5c-43 5.8-81.6 22.9-115.6 51.3-34.4 28.8-60.2 69.8-71.4 113.4-6.6 26-6.8 28.3-7.2 92.3l-.5 58H1111v-53.3c0-54.4-.5-64.6-4.1-83.2-13-67.3-56.8-125-118.6-156.3-20.1-10.2-38-16.2-62.1-21-10.5-2-13.4-2.1-128.2-2.3-93.5-.2-119.5.1-127.5 1.1z"}}),t("path",{attrs:{d:"M1333 619v16l9.8.1c5.3.1 8.4.4 6.7.6-34 4-63.7 17-89 38.9-23.1 20.1-41.1 48.9-48.9 78.4l-2.3 8.5-593.4.5-593.4.5-4.3 2.3c-6.6 3.5-11.9 8.8-14.9 15l-2.8 5.7V857c0 70.9 0 71.5 2.1 76.1 3.2 6.9 9.1 12.8 15.9 16.1 5.9 2.8 6.2 2.8 25.2 2.8H63l.2 304.7c.3 280.6.4 305.1 2 309.1 3.6 9.5 10.7 16.5 19.9 19.7 3.6 1.3 93.7 1.5 708.5 1.5h704.3l5.8-2.1c6.8-2.6 13.8-9.1 17.3-16.4l2.5-5 .3-305.8.2-305.7h18.8c23.4 0 26.1-.7 34.8-9.4 10-10.1 9.5-4.9 9.2-87.2l-.3-70.9-2.7-5.1c-3.5-6.6-10.5-12.8-17.4-15.4-4.8-1.8-7.8-2-25.4-2h-19.9l-1.1-4.3c-4.7-18.4-14.7-40.3-25.3-55.4-7.9-11.3-26.7-30.1-38-38-21.4-15.1-47.8-25.1-75.2-28.6-1.6-.2 1.2-.5 6.3-.6l9.2-.1v-32h-64v16zm49 81.1c29 5.4 54.3 24.6 67.7 51.4 1.7 3.3 3.4 7 3.7 8.2l.7 2.3h-89c-49 0-89.1-.3-89.1-.7 0-.5 2-4.8 4.5-9.8 18.8-38 60.4-59 101.5-51.4z"}})]),e._v(" Front desk")]),t("FrontDesk")],1):e._e(),"registrations"==e.currentPage?t("section",{staticClass:"admin-main"},[t("h2",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M32 376a56 56 0 0 0 56 56h336a56 56 0 0 0 56-56V222H32zm66-76a30 30 0 0 1 30-30h48a30 30 0 0 1 30 30v20a30 30 0 0 1-30 30h-48a30 30 0 0 1-30-30zM424 80H88a56 56 0 0 0-56 56v26h448v-26a56 56 0 0 0-56-56z"}})]),e._v(" Registrations")]),t("registrations-list")],1):e._e(),"coupon"==e.currentPage?t("section",{staticClass:"admin-main"},[t("h2",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"m490.18 181.4-44.13-44.13a20 20 0 0 0-27-1 30.81 30.81 0 0 1-41.68-1.6 30.81 30.81 0 0 1-1.6-41.67 20 20 0 0 0-1-27L330.6 21.82a19.91 19.91 0 0 0-28.13 0l-70.35 70.34a39.87 39.87 0 0 0-9.57 15.5 7.71 7.71 0 0 1-4.83 4.83 39.78 39.78 0 0 0-15.5 9.58l-180.4 180.4a19.91 19.91 0 0 0 0 28.13L66 374.73a20 20 0 0 0 27 1 30.69 30.69 0 0 1 43.28 43.28 20 20 0 0 0 1 27l44.13 44.13a19.91 19.91 0 0 0 28.13 0l180.4-180.4a39.82 39.82 0 0 0 9.58-15.49 7.69 7.69 0 0 1 4.84-4.84 39.84 39.84 0 0 0 15.49-9.57l70.34-70.35a19.91 19.91 0 0 0-.01-28.09zm-228.37-29.65a16 16 0 0 1-22.63 0l-11.51-11.51a16 16 0 0 1 22.63-22.62l11.51 11.5a16 16 0 0 1 0 22.63zm44 44a16 16 0 0 1-22.62 0l-11-11a16 16 0 1 1 22.63-22.63l11 11a16 16 0 0 1 .01 22.66zm44 44a16 16 0 0 1-22.63 0l-11-11a16 16 0 0 1 22.63-22.62l11 11a16 16 0 0 1 .05 22.67zm44.43 44.54a16 16 0 0 1-22.63 0l-11.44-11.5a16 16 0 1 1 22.68-22.57l11.45 11.49a16 16 0 0 1-.01 22.63z"}})]),e._v(" Coupons & invitations")]),t("coupons-management")],1):e._e(),"badge"==e.currentPage?t("section",{staticClass:"admin-main"},[t("h2",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M368 16H144a64.07 64.07 0 0 0-64 64v352a64.07 64.07 0 0 0 64 64h224a64.07 64.07 0 0 0 64-64V80a64.07 64.07 0 0 0-64-64zm-34.52 268.51c7.57 8.17 11.27 19.16 10.39 30.94C342.14 338.91 324.25 358 304 358s-38.17-19.09-39.88-42.55c-.86-11.9 2.81-22.91 10.34-31S292.4 272 304 272a39.65 39.65 0 0 1 29.48 12.51zM192 80a16 16 0 0 1 16-16h96a16 16 0 0 1 0 32h-96a16 16 0 0 1-16-16zm189 363.83a12.05 12.05 0 0 1-9.31 4.17H236.31a12.05 12.05 0 0 1-9.31-4.17 13 13 0 0 1-2.76-10.92c3.25-17.56 13.38-32.31 29.3-42.66C267.68 381.06 285.6 376 304 376s36.32 5.06 50.46 14.25c15.92 10.35 26.05 25.1 29.3 42.66a13 13 0 0 1-2.76 10.92z"}})]),e._v(" Badges")]),t("data-play")],1):e._e()],1)},i=[],r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sub-section",staticStyle:{"flex-direction":"column"}},[e.announce?t("message-announce",{attrs:{message:e.announce},on:{closeMessage:function(t){return e.killMessage()}}}):e._e(),t("vue-good-table",{attrs:{columns:e.columns,rows:e.couponsList,theme:"black-rhino","search-options":{enabled:!0},"pagination-options":{enabled:!0,perPage:20,position:"bottom"}},scopedSlots:e._u([{key:"table-row",fn:function(n){return["edit"==n.column.field?t("span",[t("button",{on:{click:function(t){return e.editCoupon(n.row.originalIndex)}}},[e._v("Edit")])]):"titleLink"==n.column.field?t("span",[t("a",{staticClass:"coupon-link",attrs:{href:n.row.permalink,target:"_blank"}},[e._v(" "+e._s(n.row.coupon_title)+" ")]),e._v(" âžœ ")]):e._e()]}}])},[t("div",{attrs:{slot:"table-actions"},slot:"table-actions"},[t("button",{staticClass:"create-new-coupon",on:{click:e.startNewCoupon}},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 0 1-32 0v-64h-64a16 16 0 0 1 0-32h64v-64a16 16 0 0 1 32 0v64h64a16 16 0 0 1 0 32z"}})])])])]),t("div",{staticClass:"export-section",staticStyle:{"margin-top":"100px !important"}},[t("h3",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m176 272 80 80 80-80M256 48v288"}})]),e._v(" Export coupons")]),t("a",{staticClass:"exporter-butt",attrs:{href:"/wp-content/plugins/eventer/export_coupons.php",target:"_blank"}},[e._v(" Export coupons ")])]),null!==e.couponToEdit?t("div",{directives:[{name:"scroll-lock",rawName:"v-scroll-lock",value:e.couponToEdit,expression:"couponToEdit"}],staticClass:"edit-shelf"},[t("div",{staticClass:"content-wrap"},[t("span",{staticClass:"options-title"},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90 218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z"}}),t("path",{attrs:{d:"M386.34 193.66 264.45 315.79A41.08 41.08 0 0 1 247.58 326l-25.9 8.67a35.92 35.92 0 0 1-44.33-44.33l8.67-25.9a41.08 41.08 0 0 1 10.19-16.87l122.13-121.91a8 8 0 0 0-5.65-13.66H104a56 56 0 0 0-56 56v240a56 56 0 0 0 56 56h240a56 56 0 0 0 56-56V199.31a8 8 0 0 0-13.66-5.65z"}})]),t("h2",[e._v("Edit coupon")])]),t("button",{staticClass:"close-button",on:{click:function(t){e.couponToEdit=null}}},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 320 192 192m0 128 128-128"}})])]),t("form",{attrs:{id:"edit-registrant"}},[t("h2",[e._v("Coupon details")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.invitation_post_id,expression:"couponToEdit.invitation_post_id"}],attrs:{type:"hidden"},domProps:{value:e.couponToEdit.invitation_post_id},on:{input:function(t){t.target.composing||e.$set(e.couponToEdit,"invitation_post_id",t.target.value)}}}),t("div",{staticClass:"double"},[t("label",{attrs:{for:"code"}},[e._v("Coupon code "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.coupon_title,expression:"couponToEdit.coupon_title"}],attrs:{type:"text",id:"code"},domProps:{value:e.couponToEdit.coupon_title},on:{input:function(t){t.target.composing||e.$set(e.couponToEdit,"coupon_title",t.target.value)}}})]),t("label",{attrs:{for:"lname"}},[e._v("Discount "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.discount,expression:"couponToEdit.discount"}],attrs:{type:"text",id:"lname",placeholder:"e.g. 75, 50, 100"},domProps:{value:e.couponToEdit.discount},on:{input:function(t){t.target.composing||e.$set(e.couponToEdit,"discount",t.target.value)}}})])]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"max-uses"}},[e._v("Max uses allowed "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.max_uses,expression:"couponToEdit.max_uses"}],attrs:{type:"number",id:"max-uses"},domProps:{value:e.couponToEdit.max_uses},on:{input:function(t){t.target.composing||e.$set(e.couponToEdit,"max_uses",t.target.value)}}})]),t("label",{attrs:{for:"actual-uses"}},[e._v("Actual uses "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.actual_uses,expression:"couponToEdit.actual_uses"}],attrs:{type:"number",id:"actual-uses",disabled:""},domProps:{value:e.couponToEdit.actual_uses},on:{input:function(t){t.target.composing||e.$set(e.couponToEdit,"actual_uses",t.target.value)}}})])]),t("h2",[e._v("Invitation details")]),t("div",{staticClass:"checkbox-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.guest_status,expression:"couponToEdit.guest_status"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.couponToEdit.guest_status)?e._i(e.couponToEdit.guest_status,null)>-1:e.couponToEdit.guest_status},on:{change:[function(t){var n=e.couponToEdit.guest_status,o=t.target,a=!!o.checked;if(Array.isArray(n)){var s=null,i=e._i(n,s);o.checked?i<0&&e.$set(e.couponToEdit,"guest_status",n.concat([s])):i>-1&&e.$set(e.couponToEdit,"guest_status",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.couponToEdit,"guest_status",a)},function(t){return e.changeGuestStatus(t)}]}}),t("p",[e._v("Is this for guests?")])]),t("label",{attrs:{for:"related-post"}},[e._v("Recipient "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.recipient_id,expression:"couponToEdit.recipient_id"}],attrs:{name:"related-post"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.couponToEdit,"recipient_id",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"other"}},[e._v("Other")]),e._l(e.usersList,(function(n,o){return t("option",{key:o,domProps:{value:n.id}},[e._v(" "+e._s(n.name)+" ")])}))],2)]),t("label",{directives:[{name:"show",rawName:"v-show",value:"other"===e.couponToEdit.recipient_id,expression:"couponToEdit.recipient_id === 'other'"}],attrs:{for:"other-recipient"}},[e._v(" Add new recipient if not in dropdown list "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.recipient_name,expression:"couponToEdit.recipient_name"}],attrs:{type:"text",id:"other-recipient"},domProps:{value:e.couponToEdit.recipient_name},on:{input:function(t){t.target.composing||e.$set(e.couponToEdit,"recipient_name",t.target.value)}}})]),t("label",{attrs:{for:"coupon-type"}},[e._v("Coupon type "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.invitation_type,expression:"couponToEdit.invitation_type"}],attrs:{id:"coupon-type"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.couponToEdit,"invitation_type",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"generic"}},[e._v("Generic coupon")]),t("option",{attrs:{value:"Netcomm member"}},[e._v("Netcomm member")]),t("option",{attrs:{value:"DagorÃ  member"}},[e._v("DagorÃ  member")]),t("option",{attrs:{value:"LTCC member"}},[e._v("LTCC member")]),t("option",{attrs:{value:"Brand-retailer-manufacturer"}},[e._v(" Brand/Retailer/Manufacturer")]),t("option",{attrs:{value:"Staff"}},[e._v("Staff")]),t("option",{attrs:{value:"Speaker"}},[e._v("Speaker")]),t("option",{attrs:{value:"Sponsor"}},[e._v("Sponsor")]),t("option",{attrs:{value:"Prospect"}},[e._v("Prospect")]),t("option",{attrs:{value:"Institution"}},[e._v("Institution")]),t("option",{attrs:{value:"School-university"}},[e._v("School/University")])])]),t("label",{attrs:{for:"related-post"}},[e._v("Invitation layout "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.with_headliners,expression:"couponToEdit.with_headliners"}],attrs:{id:"coupon-type"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.couponToEdit,"with_headliners",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"standard"}},[e._v("Standard")]),t("option",{attrs:{value:"custom"}},[e._v("Custom")])])]),t("div",{staticStyle:{"padding-bottom":"40px"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:"custom"==e.couponToEdit.with_headliners,expression:"couponToEdit.with_headliners == 'custom'"}]},[e._v(" Choose who appears on the invitation ")]),t("v-select",{directives:[{name:"show",rawName:"v-show",value:"custom"==e.couponToEdit.with_headliners,expression:"couponToEdit.with_headliners == 'custom'"}],attrs:{multiple:"",id:"custom-headliners",name:"custom-headliners",options:e.speakersList,reduce:e=>e.id,label:"name",closeOnSelect:!1},model:{value:e.couponToEdit.headliners,callback:function(t){e.$set(e.couponToEdit,"headliners",t)},expression:"couponToEdit.headliners"}})],1),t("div",{staticClass:"double"},[e.couponToEdit.invitation_post_id?t("button",{staticClass:"save-edits form-button",attrs:{type:"button"},on:{click:function(t){return e.saveCoupon("edit")}}},[e._v(" Save edits ")]):t("button",{staticClass:"save-edits form-button",attrs:{type:"button"},on:{click:function(t){return e.saveCoupon("create")}}},[e._v(" Save edits ")]),e.couponToEdit.invitation_post_id?t("button",{staticClass:"delete-registration form-button",attrs:{type:"button"},on:{click:function(t){return e.saveCoupon("delete")}}},[e._v(" Delete coupon ")]):e._e()])])])]):e._e()],1)},l=[];const c=document.location.origin,u={rootUrl:c,optionsRoute:`${c}/wp-json/core-vue/options`,AllOptionsRoute:`${c}/wp-json/core-vue/options-all`,allRegistrations:`${c}/wp-json/core-vue/registrations-all`,editRegistrations:`${c}/wp-json/core-vue/edit-registration`,allCoupons:`${c}/wp-json/core-vue/coupons-all`,peopleAndOrgs:`${c}/wp-json/core-vue/people-and-orgs`,onlyPeople:`${c}/wp-json/core-vue/just-people`,editCouponInvitation:`${c}/wp-json/core-vue/edit-coupon-invitation`,hubspotSync:`${c}/wp-json/core-vue/hubspot-sync`,allSync:`${c}/wp-json/core-vue/all-sync`,speakerCodes:`${c}/wp-json/core-vue/speaker-codes`,resendWelcome:`${c}/wp-json/core-vue/resend-welcome`,editBadges:`${c}/wp-json/core-vue/edit-badges`,printBadge:`${c}/wp-json/core-vue/print-badge`,adHocRegistration:`${c}/wp-json/core-vue/ad-hoc-registration`,resetBadges:`${c}/wp-json/core-vue/wipe_printed_list`};var d=u,p=(n(3586),n(503)),m=n(4226),v=n.n(m),g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"message-announce"},[t("h2",[e._v(e._s(e.message[0]))]),t("p",{domProps:{innerHTML:e._s(e.message[1])}}),t("button",{staticClass:"closer",on:{click:function(t){return e.$emit("closeMessage")}}},[e._v("âœ–")])])},h=[],_={props:{message:{type:Array,default(){return["All OK","Options saved."]}}}},b=_,f=n(1001),y=(0,f.Z)(b,g,h,!1,null,null,null),w=y.exports,k={name:"CouponsManagement",components:{VueGoodTable:p.K,vSelect:v(),MessageAnnounce:w},data(){return{announce:null,couponToEdit:null,couponsList:[],usersList:[],speakersList:[],columns:[{label:"Coupon",field:"titleLink"},{label:"Discount %",field:"discount"},{label:"Recipient",field:"recipient_name"},{label:"For guests?",field:this.guestCheck},{label:"Invitation type",field:"invitation_type"},{label:"Invitation display",field:this.headlinersCheck},{label:"Max uses",field:"max_uses"},{label:"Actual uses",field:"actual_uses"},{label:"View/Edit",field:"edit"}]}},methods:{killMessage(){this.grabCoupons(),this.announce=null},async grabCoupons(){this.couponsList=[];const e=d.allCoupons,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.couponsList=e}))},async grabUsers(){this.usersList=[];const e=d.peopleAndOrgs,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.usersList=e}))},async grabSpeakers(){this.usersList=[];const e=d.onlyPeople,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.speakersList=e}))},async saveCoupon(e){if(!this.couponToEdit.coupon_title||!this.couponToEdit.discount||!this.couponToEdit.recipient_id)return void(this.announce=["Hold it right there...","You need to supply all required fields (coupon code, discount % and recipient)"]);this.couponToEdit.command=e;const t=JSON.stringify(this.couponToEdit),n=d.editCouponInvitation,o={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(n,{method:"POST",headers:o,body:t}).then(this.couponToEdit=null).then((e=>e.json())).then((e=>{this.announce=e}))},guestCheck(e){return"1"===e.guest_status?"Yes":"No"},headlinersCheck(e){return e.headliners.length>=1?"Custom":"Standard"},editCoupon(e){this.couponToEdit=this.couponsList[e],"1"===this.couponsList[e].guest_status?this.couponToEdit.guest_status=!0:this.couponToEdit.guest_status=!1},startNewCoupon(){this.couponToEdit={},this.couponToEdit.with_headliners="standard",this.couponToEdit.invitation_type="generic"},changeGuestStatus(e){e.target.checked?this.couponToEdit.guest_status=!0:this.couponToEdit.guest_status=!1}},mounted(){this.grabCoupons(),this.grabUsers(),this.grabSpeakers()}},x=k,C=(0,f.Z)(x,r,l,!1,null,null,null),T=C.exports,E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sub-section",staticStyle:{"flex-direction":"column"}},[e.announce?t("message-announce",{attrs:{message:e.announce},on:{closeMessage:function(t){return e.killMessage()}}}):e._e(),t("vue-good-table",{attrs:{columns:e.columns,rows:e.badgesList,theme:"black-rhino","search-options":{enabled:!0},"pagination-options":{enabled:!0,perPage:50,position:"bottom"}},scopedSlots:e._u([{key:"table-row",fn:function(n){return["print"==n.column.field?t("div",[t("button",{staticStyle:{display:"flex",width:"70px","align-items":"center","justify-content":"space-between","padding-right":"10px"},on:{click:function(t){return e.printSingleBadge(n.row.id)}}},[t("svg",{staticClass:"ionicon",staticStyle:{width:"20px","margin-right":"10px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",d:"M384 368h24a40.12 40.12 0 0 0 40-40V168a40.12 40.12 0 0 0-40-40H104a40.12 40.12 0 0 0-40 40v160a40.12 40.12 0 0 0 40 40h24"}}),t("rect",{attrs:{width:"256",height:"208",x:"128",y:"240",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",rx:"24.32",ry:"24.32"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",d:"M384 128v-24a40.12 40.12 0 0 0-40-40H168a40.12 40.12 0 0 0-40 40v24"}}),t("circle",{attrs:{cx:"392",cy:"184",r:"24"}})]),e._v(" Print ")])]):e._e()]}}])}),t("div",{staticClass:"export-section",staticStyle:{"margin-top":"50px !important"}},[t("h3",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m176 272 80 80 80-80M256 48v288"}})]),e._v(" Print all badges ")]),t("p",[e._v("This will print all people registered to the event, saving the file as a zip of PDFs. Before using, please ensure you have synced with Hubspot (Registrations page) to get the latest data. ")]),t("button",{staticClass:"exporter-butt",staticStyle:{background:"#7fc41c",padding:"8px 25px",outline:"none",color:"white","text-decoration":"none",border:"none",cursor:"pointer"},on:{click:e.printEverything}},[e._v(" Print all badges ")])]),t("div",{staticClass:"export-section",staticStyle:{"margin-top":"50px !important"}},[t("h3",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"28",d:"M288 193s12.18-6-32-6a80 80 0 1 0 80 80"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"28",d:"m256 149 40 40-40 40"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32",d:"M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z"}})]),e._v(" Reset printed status ")]),e._m(0),t("button",{staticClass:"exporter-butt",staticStyle:{background:"#d76163",padding:"8px 25px",outline:"none",color:"white","text-decoration":"none",border:"none",cursor:"pointer"},on:{click:e.resetBadgeStatus}},[e._v(" Reset all badges ")])])],1)},P=[function(){var e=this,t=e._self._c;return t("p",[e._v("This will reset the badge status of each registration to "),t("em",[e._v("not printed")]),e._v(". This is useful if you want to print all badges again.")])}],S={name:"DataPlay",components:{VueGoodTable:p.K,MessageAnnounce:w},data(){return{announce:null,badgesList:[],columns:[{label:"Name",field:"name"},{label:"Surname",field:"surname"},{label:"Email",field:"email"},{label:"Company",field:"company"},{label:"Job title",field:"role"},{label:"Printed?",field:this.isPrinted},{label:"Print",field:"print"},{label:"Link",field:this.checkPrintStatus,html:!0}]}},mounted(){this.getAllRegistrants()},methods:{checkPrintStatus(e){return e.badge_link&&"1"===e.printed?`<a href='${e.badge_link}' target='_blank'>View</a>`:e.badge_link||"1"!==e.printed?"Not printed yet":`See <a href='${document.location.origin}/wp-content/plugins/eventer/badges/all_badges.zip' target='_blank'>zip folder</a> of all badges`},async getAllRegistrants(){this.badgesList=[];const e=d.allRegistrations,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.badgesList=e}))},async printMe(e){const t=d.printBadge,n={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce},o=JSON.stringify({ids:e});fetch(t,{method:"POST",headers:n,body:o}).then((e=>e.json())).then((e=>{this.announce=e}))},async printEverything(){const e=this.badgesList.map((e=>e.id));this.printMe(e)},isPrinted(e){return"1"===e.printed?"Yes":"No"},killMessage(){this.getAllRegistrants(),this.announce=null},printSingleBadge(e){this.printMe([e])},printAllBadges(){const e=this.badgesList.map((e=>e.id));this.printMe(e)},resetBadgeStatus(){const e=d.resetBadges,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.announce=e}))}}},j=S,N=(0,f.Z)(j,E,P,!1,null,null,null),$=N.exports,M=function(){var e=this,t=e._self._c;return t("div",{staticClass:"navbar"},[t("div",{staticClass:"navbar-inner"},[t("img",{staticClass:"logo",attrs:{alt:"DagorÃ  logo",src:"\\wp-content\\plugins\\eventer\\assets\\logo_dagora_white.png"}}),t("div",{staticClass:"menu"},[t("ul",[t("li",{class:{active:"setup"===e.onPage}},[t("button",{on:{click:function(t){e.$emit("pageSelect","setup"),e.selectThis("setup")}}},[e._v(" Event setup ")])]),t("li",{class:{active:"desk"===e.onPage}},[t("button",{on:{click:function(t){e.$emit("pageSelect","desk"),e.selectThis("desk")}}},[e._v(" Front desk ")])]),t("li",{class:{active:"registrations"===e.onPage}},[t("button",{on:{click:function(t){e.$emit("pageSelect","registrations"),e.selectThis("registrations")}}},[e._v(" Registrations ")])]),t("li",{class:{active:"coupon"===e.onPage}},[t("button",{on:{click:function(t){e.$emit("pageSelect","coupon"),e.selectThis("coupon")}}},[e._v(" Coupons & invitations ")])]),t("li",{class:{active:"badge"===e.onPage}},[t("button",{on:{click:function(t){e.$emit("pageSelect","badge"),e.selectThis("badge")}}},[e._v(" Badges ")])])])])])])},L=[],z={data(){return{onPage:"setup"}},props:["selected"],mounted(){const e=new URLSearchParams(window.location.search);e.has("section")&&(this.onPage=e.get("section"))},methods:{selectThis(e){this.onPage=e}}},A=z,R=(0,f.Z)(A,M,L,!1,null,null,null),O=R.exports,B=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sub-section"},[e.announce?t("message-announce",{attrs:{message:e.announce},on:{closeMessage:function(t){return e.killMessage()}}}):e._e(),t("div",{staticClass:"registrations-table"},[t("vue-good-table",{attrs:{columns:e.columns,rows:e.registrationsList,"row-style-class":e.rowStyleClassFn,theme:"black-rhino","search-options":{enabled:!0},"pagination-options":{enabled:!0,perPage:50,position:"bottom"}},scopedSlots:e._u([{key:"table-row",fn:function(n){return["edit"==n.column.field?t("div",[t("button",{on:{click:function(t){return e.editRegistrant(n.row.originalIndex)}}},[t("svg",{staticClass:"ionicon edit-me",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48"}}),t("path",{attrs:{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90 218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z"}})])]),t("button",{staticClass:"sync-state",domProps:{innerHTML:e._s(e.editButton(n.row))},on:{click:function(t){return e.syncWithHubspot(n.row.originalIndex)}}})]):e._e()]}}])},[t("div",{staticClass:"buttons-bit",attrs:{slot:"table-actions"},slot:"table-actions"},[t("button",{staticClass:"create-new-registrant",on:{click:function(t){return e.createRegistrant()}}},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 0 1-32 0v-64h-64a16 16 0 0 1 0-32h64v-64a16 16 0 0 1 32 0v64h64a16 16 0 0 1 0 32z"}})])])])]),t("div",{staticClass:"sync-all-section"},[t("h3",[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M434.67 285.59v-29.8c0-98.73-80.24-178.79-179.2-178.79a179 179 0 0 0-140.14 67.36m-38.53 82v29.8C76.8 355 157 435 256 435a180.45 180.45 0 0 0 140-66.92"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m32 256 44-44 46 44m358 0-44 44-46-44"}})]),e._v(" Sync all data with Hubspot")]),e.registrationsList.filter((e=>"0"===e.hs_synched)).length<75?t("p",[e._v(" You have "),t("strong",[e._v(" "+e._s(e.registrationsList.filter((e=>"0"===e.hs_synched)).length)+" ")]),e._v(" unsynced contacts ")]):t("p",{staticClass:"sync-warn"},[e._v("Watch out. You have "+e._s(e.registrationsList.filter((e=>"0"===e.hs_synched)).length)+" unsynced contacts. Trying to sync a large number (> 100) "),t("em",[e._v("will")]),e._v(" lead to problems. Sync now for a happier life. ")]),t("button",{on:{click:function(t){return e.syncAllWithHubspot()}}},[e._v("Sync from Hubspot")]),t("br"),t("br"),t("p",[e._v(" Hit this button to call Hubspot and import any registered users who appear there but are not yet visibile in the table above. ")])]),t("div",{staticClass:"export-section"},[t("h3",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m176 272 80 80 80-80M256 48v288"}})]),e._v(" Export registration data")]),t("a",{staticClass:"exporter-butt",attrs:{href:"/wp-content/plugins/eventer/export_registrations.php",target:"_blank"}},[e._v(" Export registrations ")])])],1),null!==e.oneToEdit?t("div",{directives:[{name:"scroll-lock",rawName:"v-scroll-lock",value:e.oneToEdit,expression:"oneToEdit"}],staticClass:"edit-shelf"},[t("div",{staticClass:"content-wrap"},[t("span",{staticClass:"options-title"},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90 218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z"}}),t("path",{attrs:{d:"M386.34 193.66 264.45 315.79A41.08 41.08 0 0 1 247.58 326l-25.9 8.67a35.92 35.92 0 0 1-44.33-44.33l8.67-25.9a41.08 41.08 0 0 1 10.19-16.87l122.13-121.91a8 8 0 0 0-5.65-13.66H104a56 56 0 0 0-56 56v240a56 56 0 0 0 56 56h240a56 56 0 0 0 56-56V199.31a8 8 0 0 0-13.66-5.65z"}})]),"Pending"!=e.oneToEdit.payment_status?t("h2",[e._v("Edit registration")]):t("h2",[e._v("View non-registered contact")])]),e.oneToEdit.id&&e.checkSuspiciousFields(e.oneToEdit)?t("span",{staticClass:"sync-status-notice suspicious"},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17z"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m250.26 195.39 5.74 122 5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95z"}}),t("path",{attrs:{d:"M256 397.25a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"}})]),t("span",[e._v(" This data does not look right. please check company, email, website and name fields. ")])]):e.oneToEdit.id&&"1"!==e.oneToEdit.hs_synched?t("span",{staticClass:"sync-status-notice to-sync"},[t("svg",{staticClass:"sync-me",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M434.67 285.59v-29.8c0-98.73-80.24-178.79-179.2-178.79a179 179 0 0 0-140.14 67.36m-38.53 82v29.8C76.8 355 157 435 256 435a180.45 180.45 0 0 0 140-66.92"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m32 256 44-44 46 44m358 0-44 44-46-44"}})]),t("span",[e._v(" Not yet synced with Hubspot. ")])]):e._e(),t("button",{staticClass:"close-button",on:{click:function(t){e.oneToEdit=null}}},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 320 192 192m0 128 128-128"}})])]),t("form",{attrs:{id:"edit-registrant"}},[t("h2",[e._v("User contacts")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.id,expression:"oneToEdit.id"}],attrs:{type:"hidden"},domProps:{value:e.oneToEdit.id},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"id",t.target.value)}}}),t("div",{staticClass:"double"},[t("label",{attrs:{for:"fname"}},[e._v("First name (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.name,expression:"oneToEdit.name"}],attrs:{type:"text",id:"fname"},domProps:{value:e.oneToEdit.name},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"name",t.target.value)}}})]),t("label",{attrs:{for:"lname"}},[e._v("Last name (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.surname,expression:"oneToEdit.surname"}],attrs:{type:"text",id:"lname"},domProps:{value:e.oneToEdit.surname},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"surname",t.target.value)}}})])]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"company"}},[e._v("Company (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.company,expression:"oneToEdit.company"}],attrs:{type:"text",id:"company"},domProps:{value:e.oneToEdit.company},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"company",t.target.value)}}})]),t("label",{attrs:{for:"website"}},[e._v("Website "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.website,expression:"oneToEdit.website"}],attrs:{type:"url",id:"website"},domProps:{value:e.oneToEdit.website},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"website",t.target.value)}}})])]),t("div",{staticClass:"company_type_wrapper"},[t("p",[e._v("Company type")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.my_company_is,expression:"oneToEdit.my_company_is"}],attrs:{name:"company_type",id:"company_type"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.oneToEdit,"my_company_is",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"Brand, Retailer, Manufacturer or Online Shop"}},[e._v(" Brand, Retailer, Manufacturer or Online Shop")]),t("option",{attrs:{value:"Investor, Family Office,"}},[e._v(" Investor, Family Office, Business Angel")]),t("option",{attrs:{value:"Media & Press"}},[e._v(" Media / Press / Journalism")]),t("option",{attrs:{value:"Public Administration / Institution"}},[e._v(" Public Administration / Institution")]),t("option",{attrs:{value:"Research Institute, University, School"}},[e._v(" Research Institute, University, School")]),t("option",{attrs:{value:"Vendor / Supplier of Services"}},[e._v(" Vendor / Supplier of Services for Innovation and e-Commerce")]),t("option",{attrs:{value:"Other"}},[e._v("Other")])])]),t("label",{attrs:{for:"role"}},[e._v("Role "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.role,expression:"oneToEdit.role"}],attrs:{type:"text",id:"role"},domProps:{value:e.oneToEdit.role},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"role",t.target.value)}}})]),t("label",{attrs:{for:"email"}},[e._v("Email address (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.email,expression:"oneToEdit.email"}],attrs:{type:"email",id:"email"},domProps:{value:e.oneToEdit.email},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"email",t.target.value)}}})]),t("div",[t("label",{attrs:{for:"mobile"}},[e._v("Mobile phone "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.mobile_phone,expression:"oneToEdit.mobile_phone"}],attrs:{type:"text",id:"company"},domProps:{value:e.oneToEdit.mobile_phone},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"mobile_phone",t.target.value)}}})]),t("label",{attrs:{for:"office"}},[e._v("Office phone (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.office_phone,expression:"oneToEdit.office_phone"}],attrs:{type:"text",id:"office"},domProps:{value:e.oneToEdit.office_phone},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"office_phone",t.target.value)}}})])]),t("h2",[e._v("Address")]),t("label",{attrs:{for:"address"}},[e._v("Address "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.street_address,expression:"oneToEdit.street_address"}],attrs:{type:"text",id:"address"},domProps:{value:e.oneToEdit.street_address},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"street_address",t.target.value)}}})]),t("label",{attrs:{for:"city"}},[e._v("City "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.city,expression:"oneToEdit.city"}],attrs:{type:"text",id:"city"},domProps:{value:e.oneToEdit.city},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"city",t.target.value)}}})]),t("label",{attrs:{for:"country"}},[e._v("Country "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.country,expression:"oneToEdit.country"}],attrs:{type:"text",id:"country"},domProps:{value:e.oneToEdit.country},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"country",t.target.value)}}})]),t("h2",[e._v("Sign-up details")]),e.oneToEdit.id?t("ul",[t("li",[e._v("Coupon: "),t("strong",[e._v(e._s(e.oneToEdit.coupon_code))])]),t("li",[e._v("Billed: "),t("strong",[e._v("CHF "+e._s(e.oneToEdit.paid))]),"Pending"==e.oneToEdit.payment_status?t("span",[e._v(" - contact will not be registered to event until payment")]):e._e()]),t("li",{class:{pending:"Pending"==e.oneToEdit.payment_status}},[e._v(" Payment status: "),t("strong",[e._v(e._s(e.oneToEdit.payment_status))])]),t("li",[e._v("Sign-up date: "),t("strong",[t("span",{domProps:{innerHTML:e._s(e.registrationDate(e.oneToEdit))}})])]),t("li",[e._v("User interests: "),t("strong",[t("span",{domProps:{innerHTML:e._s(e.sortLikes(e.oneToEdit))}})])])]):e._e(),t("div",{staticClass:"double"},[e.oneToEdit.id?t("button",{staticClass:"save-edits form-button",attrs:{type:"button"},on:{click:function(t){return e.editRegistration("edit")}}},[e._v(" Save edits ")]):t("button",{staticClass:"save-edits form-button",attrs:{type:"button"},on:{click:function(t){return e.editRegistration("create")}}},[e._v(" Add registration ")]),e.oneToEdit.id&&"1"!==e.oneToEdit.hs_synched?t("button",{staticClass:"form-button hubspot-sync",attrs:{type:"button"},on:{click:function(t){return e.syncWithHubspot(e.oneToEdit.id)}}},[e._v(" Sync with Hubspot ")]):e._e(),e.oneToEdit.id?t("button",{staticClass:"delete-registration form-button",attrs:{type:"button"},on:{click:function(t){return e.editRegistration("delete")}}},[e._v(" Delete registration ")]):e._e()])])])]):e._e()],1)},I=[],H={name:"RegistrationsList",components:{VueGoodTable:p.K,MessageAnnounce:w},data(){return{oneToEdit:null,announce:null,registrationsList:[],columns:[{label:"Name",field:this.concatName},{label:"Email",field:"email"},{label:"Company",field:"company"},{label:"Job title",field:"role"},{label:"Company type",field:"my_company_is"},{label:"Coupon",field:"coupon_code"},{label:"Status",field:this.paidAmount},{label:"Registered",field:this.registrationDate},{label:"View/Edit",field:"edit"}]}},methods:{async doSpeakerCodes(){this.announce=["Ok. Synching speakers","This may take a minute. Please do not close this tab."];const e=d.speakerCodes,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.announce=e}))},async grabRegistrations(){this.registrationsList=[];const e=d.allRegistrations,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.registrationsList=e}))},async syncAllWithHubspot(){this.announce=["Ok. Let's do this","Please wait while we sync Hubspot data. This may take a few minutes. Please do not close this tab."];const e=d.allSync,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{"Success"===e[0]?this.announce=e:this.announce=["Uh oh","Something went wrong with the sync. Sorry, we do not know any more than that."]}))},async resendWelcomeEmail(){const e=JSON.stringify(this.oneToEdit),t=d.resendWelcome,n={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(t,{method:"POST",headers:n,body:e}).then((e=>e.json())).then((e=>{this.announce=e}))},async editRegistration(e){if("delete"!==e&&(!this.oneToEdit.name||!this.oneToEdit.surname||!this.oneToEdit.email||!this.oneToEdit.company||!this.oneToEdit.office_phone))return void(this.announce=["Hold it right there...","You need to supply all required fields (name, surname, company, email and office phone)"]);this.oneToEdit.command=e;const t=JSON.stringify(this.oneToEdit),n=d.editRegistrations,o={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(n,{method:"POST",headers:o,body:t}).then(this.oneToEdit=null).then((e=>e.json())).then((e=>{this.announce=e}))},editButton(e){let t="";const n=this.syncHsCheck(e);switch(n){case"suspicious":t='<svg class="suspicious" xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17z"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m250.26 195.39 5.74 122 5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95z"/><path d="M256 397.25a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"/></svg>';break;case"ok":t='<svg class="all-ok" xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M352 176 217.6 336 160 272"/></svg>';break;case"sync-me":t='<svg class="sync-me" xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M434.67 285.59v-29.8c0-98.73-80.24-178.79-179.2-178.79a179 179 0 0 0-140.14 67.36m-38.53 82v29.8C76.8 355 157 435 256 435a180.45 180.45 0 0 0 140-66.92"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m32 256 44-44 46 44m358 0-44 44-46-44"/></svg>';break;default:t='<svg class="all-ok" xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M352 176 217.6 336 160 272"/></svg></button>'}return t},syncHsCheck(e){const t=this.checkSuspiciousFields(e);return"0"===e.hs_synched&&!0===t?"suspicious":"0"===e.hs_synched?"sync-me":(e.hs_synched,"ok")},async syncWithHubspot(e){let t=null;if(t=null==this.oneToEdit?this.registrationsList[e]:this.oneToEdit,!t.name||!t.surname||!t.email||!t.company||!t.office_phone)return void(this.announce=["Hold it right there...","You need to supply all required fields (name, surname, company, email and office phone)"]);this.oneToEdit=null;const n=JSON.stringify(t),o=d.hubspotSync,a={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(o,{method:"POST",headers:a,body:n}).then((e=>e.json())).then((e=>{this.announce=e}))},concatName(e){return e.name+" "+e.surname},paidAmount(e){const t=e.payment_status;return"Pending"===t?"Abandoned cart":e.payment_status},editRegistrant(e){this.oneToEdit=this.registrationsList[e]},sortLikes(e){return e.interests?e.interests.replaceAll(",",", "):""},welcomedOrNot(e){return"1"===e.welcome_email_sent||1===e.welcome_email_sent?"Yes":"No"},registrationDate(e){if(!e.sign_up_date)return"";const t=e.sign_up_date;return t.split("-").reverse().join("-")},killMessage(){this.grabRegistrations(),this.announce=null},createRegistrant(){this.oneToEdit={}},rowStyleClassFn(e){return"pending"===e.payment_status?"abandoned":"normal"},checkSuspiciousFields(e){let t=0,n=e.company;const o=e.email;if(-1===o.indexOf("@"))return!0;const a=o.split("@")[1];return-1!==n.indexOf(" ")&&(n=e.company.split(" ")[0].toLowerCase(),n.length<3&&(n=e.company.split(" ")[1].toLowerCase())),-1!==o.indexOf(e.name.toLowerCase())&&t++,-1!==o.indexOf(e.surname.toLowerCase())&&t++,-1!==a.indexOf(n.toLowerCase())&&t++,e.website&&-1!==e.website.indexOf(a)&&t++,t<2}},mounted(){this.grabRegistrations()}},D=H,V=(0,f.Z)(D,B,I,!1,null,null,null),W=V.exports,F=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sub-section"},[t("div",{staticClass:"side-column"},[t("ul",{staticClass:"submenu"},[t("li",{class:{active:"globals"==e.menuItem}},[t("button",{on:{click:function(t){e.menuItem="globals"}}},[e._v("Event globals")])]),t("li",{class:{active:"apis"==e.menuItem}},[t("button",{on:{click:function(t){e.menuItem="apis"}}},[e._v("APIs")])]),t("li",{class:{active:"venue"==e.menuItem}},[t("button",{on:{click:function(t){e.menuItem="venue"}}},[e._v("Venue and tickets")])]),t("li",{class:{active:"badges"==e.menuItem}},[t("button",{on:{click:function(t){e.menuItem="badges"}}},[e._v("Badge design")])])])]),e.announce?t("message-announce",{attrs:{message:e.announce},on:{closeMessage:function(t){return e.killMessage()}}}):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"globals"==e.menuItem,expression:"menuItem == 'globals'"}],staticClass:"main-column"},[t("h3",[e._v("Global setup")]),t("form",{attrs:{id:"globals"},on:{submit:function(t){return t.preventDefault(),e.sendOptions("globals")}}},[t("label",{attrs:{for:"name"}},[e._v("Event name "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.globals.event_name,expression:"globals.event_name"}],attrs:{type:"text",id:"name"},domProps:{value:e.globals.event_name},on:{input:function(t){t.target.composing||e.$set(e.globals,"event_name",t.target.value)}}})]),t("label",{attrs:{for:"payoff"}},[e._v("Event payoff "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.globals.event_payoff,expression:"globals.event_payoff"}],attrs:{type:"text",id:"payoff"},domProps:{value:e.globals.event_payoff},on:{input:function(t){t.target.composing||e.$set(e.globals,"event_payoff",t.target.value)}}})]),t("label",{attrs:{for:"date"}},[e._v("Event date "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.globals.event_date,expression:"globals.event_date"}],attrs:{type:"date",id:"date"},domProps:{value:e.globals.event_date},on:{input:function(t){t.target.composing||e.$set(e.globals,"event_date",t.target.value)}}})]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"start"}},[e._v("Check in time "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.globals.event_start,expression:"globals.event_start"}],attrs:{type:"time",id:"start"},domProps:{value:e.globals.event_start},on:{input:function(t){t.target.composing||e.$set(e.globals,"event_start",t.target.value)}}})]),t("label",{attrs:{for:"end"}},[e._v("Event end time "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.globals.event_end,expression:"globals.event_end"}],attrs:{type:"time",id:"end"},domProps:{value:e.globals.event_end},on:{input:function(t){t.target.composing||e.$set(e.globals,"event_end",t.target.value)}}})])]),t("input",{attrs:{type:"submit",value:"Save edits"}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"apis"==e.menuItem,expression:"menuItem == 'apis'"}],staticClass:"main-column"},[t("h3",[e._v("APIs setup")]),t("form",{attrs:{id:"apis"},on:{submit:function(t){return t.preventDefault(),e.sendOptions("apis")}}},[t("label",{attrs:{for:"stripe_key"}},[e._v("Stripe API key "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apis.alt_stripe_key,expression:"apis.alt_stripe_key"}],attrs:{type:"text",id:"stripe_key"},domProps:{value:e.apis.alt_stripe_key},on:{input:function(t){t.target.composing||e.$set(e.apis,"alt_stripe_key",t.target.value)}}})]),t("label",{attrs:{for:"hubspot-api"}},[e._v("Hubspot API key "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apis.hubspot_key,expression:"apis.hubspot_key"}],attrs:{type:"text",id:"hubspot-api"},domProps:{value:e.apis.hubspot_key},on:{input:function(t){t.target.composing||e.$set(e.apis,"hubspot_key",t.target.value)}}})]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"hubspot-list"}},[e._v("Hubspot list ID "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apis.hubspot_list,expression:"apis.hubspot_list"}],attrs:{type:"text",id:"hubspot-list"},domProps:{value:e.apis.hubspot_list},on:{input:function(t){t.target.composing||e.$set(e.apis,"hubspot_list",t.target.value)}}})]),t("label",{attrs:{for:"tag"}},[e._v("Hubspot event tag (used in form to link to static list) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apis.event_tag,expression:"apis.event_tag"}],attrs:{type:"text",id:"tag"},domProps:{value:e.apis.event_tag},on:{input:function(t){t.target.composing||e.$set(e.apis,"event_tag",t.target.value)}}})])]),t("input",{attrs:{type:"submit",value:"Save edits"}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"venue"==e.menuItem,expression:"menuItem == 'venue'"}],staticClass:"main-column"},[t("h3",[e._v("Venue and tickets")]),t("form",{attrs:{id:"venue"},on:{submit:function(t){return t.preventDefault(),e.sendOptions("venue")}}},[t("label",{attrs:{for:"venue_name"}},[e._v("Name of venue "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.venue.venue_name,expression:"venue.venue_name"}],attrs:{type:"text",id:"venue_name"},domProps:{value:e.venue.venue_name},on:{input:function(t){t.target.composing||e.$set(e.venue,"venue_name",t.target.value)}}})]),t("label",{attrs:{for:"venue_address"}},[e._v("Venue address "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.venue.venue_address,expression:"venue.venue_address"}],attrs:{type:"text",id:"venue_address"},domProps:{value:e.venue.venue_address},on:{input:function(t){t.target.composing||e.$set(e.venue,"venue_address",t.target.value)}}})]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"venue_city"}},[e._v("Venue city "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.venue.venue_city,expression:"venue.venue_city"}],attrs:{type:"text",id:"venue_city"},domProps:{value:e.venue.venue_city},on:{input:function(t){t.target.composing||e.$set(e.venue,"venue_city",t.target.value)}}})]),t("label",{attrs:{for:"venue_country"}},[e._v("Venue country "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.venue.venue_country,expression:"venue.venue_country"}],attrs:{type:"text",id:"venue_country"},domProps:{value:e.venue.venue_country},on:{input:function(t){t.target.composing||e.$set(e.venue,"venue_country",t.target.value)}}})])]),t("label",{attrs:{for:"venue_max"}},[e._v("Maximum attendees permitted "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.venue.max_attendees,expression:"venue.max_attendees"}],attrs:{type:"number",id:"venue_max"},domProps:{value:e.venue.max_attendees},on:{input:function(t){t.target.composing||e.$set(e.venue,"max_attendees",t.target.value)}}})]),t("label",{attrs:{for:"ticket_price"}},[e._v("Ticket price "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.venue.ticket_price,expression:"venue.ticket_price"}],attrs:{type:"number",id:"ticket_price"},domProps:{value:e.venue.ticket_price},on:{input:function(t){t.target.composing||e.$set(e.venue,"ticket_price",t.target.value)}}})]),t("input",{attrs:{type:"submit",value:"Save edits"}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"badges"==e.menuItem,expression:"menuItem == 'badges'"}],staticClass:"main-column"},[t("h3",[e._v("Badge layout")]),t("form",{attrs:{id:"badge"},on:{submit:function(t){return t.preventDefault(),e.sendOptions("badges")}}},[t("label",{attrs:{for:"badge_template"}},[e._v("Badge template "),e.badges.badge_template?t("span",{staticStyle:{"font-weight":"600",color:"#7fc41c"}},[e._v(" Current: "+e._s(e.badges.badge_template)+" ")]):e._e(),t("input",{attrs:{type:"file",id:"badge_template"},on:{change:function(t){return e.badgeUpload()}}})]),t("p",[e._v("Text positioning badge page 1")]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"p1x"}},[e._v("X coordinate "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_x,expression:"badges.badge_x"}],attrs:{type:"number",id:"p1x"},domProps:{value:e.badges.badge_x},on:{input:function(t){t.target.composing||e.$set(e.badges,"badge_x",t.target.value)}}})]),t("label",{attrs:{for:"p1y"}},[e._v("Y coordinate "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_y,expression:"badges.badge_y"}],attrs:{type:"number",id:"p1y"},domProps:{value:e.badges.badge_y},on:{input:function(t){t.target.composing||e.$set(e.badges,"badge_y",t.target.value)}}})])]),t("p",[e._v("Text positioning badge page 2")]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"p2x"}},[e._v("X coordinate "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_x_p2,expression:"badges.badge_x_p2"}],attrs:{type:"number",id:"p2x"},domProps:{value:e.badges.badge_x_p2},on:{input:function(t){t.target.composing||e.$set(e.badges,"badge_x_p2",t.target.value)}}})]),t("label",{attrs:{for:"p2y"}},[e._v("Y coordinate "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_y_p2,expression:"badges.badge_y_p2"}],attrs:{type:"number",id:"p2y"},domProps:{value:e.badges.badge_y_p2},on:{input:function(t){t.target.composing||e.$set(e.badges,"badge_y_p2",t.target.value)}}})])]),t("br"),t("hr"),e._m(0),t("label",{staticStyle:{display:"flex","flex-direction":"row"},attrs:{for:"namebreak"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_namebreak,expression:"badges.badge_namebreak"}],attrs:{type:"checkbox",name:"namebreak"},domProps:{checked:Array.isArray(e.badges.badge_namebreak)?e._i(e.badges.badge_namebreak,null)>-1:e.badges.badge_namebreak},on:{change:function(t){var n=e.badges.badge_namebreak,o=t.target,a=!!o.checked;if(Array.isArray(n)){var s=null,i=e._i(n,s);o.checked?i<0&&e.$set(e.badges,"badge_namebreak",n.concat([s])):i>-1&&e.$set(e.badges,"badge_namebreak",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.badges,"badge_namebreak",a)}}}),t("span",{staticStyle:{position:"relative",top:"-3px"}},[e._v("Break name into two lines?")])]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"bnamecolor"}},[e._v("Color "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_name_format.color,expression:"badges.badge_name_format.color"}],attrs:{id:"bnamecolor"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.badges.badge_name_format,"color",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"black"}},[e._v("Black")]),t("option",{attrs:{value:"dark"}},[e._v("Dark")]),t("option",{attrs:{value:"luxury"}},[e._v("Luxury")]),t("option",{attrs:{value:"blue"}},[e._v("DagorÃ  blue")]),t("option",{attrs:{value:"green"}},[e._v("DagorÃ  green")])])]),t("label",{attrs:{for:"bnamefontsize"}},[e._v("Font size "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_name_format.fontsize,expression:"badges.badge_name_format.fontsize"}],attrs:{type:"number",id:"bnamefontsize"},domProps:{value:e.badges.badge_name_format.fontsize},on:{input:function(t){t.target.composing||e.$set(e.badges.badge_name_format,"fontsize",t.target.value)}}})])]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"bnamealign"}},[e._v("Text align "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_name_format.align,expression:"badges.badge_name_format.align"}],attrs:{id:"bnamealign"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.badges.badge_name_format,"align",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"L"}},[e._v("Left")]),t("option",{attrs:{value:"C"}},[e._v("Center")]),t("option",{attrs:{value:"R"}},[e._v("Right")])])]),t("label",{attrs:{for:"bnamecaps"}},[e._v("Capitalize text? "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_name_format.caps,expression:"badges.badge_name_format.caps"}],attrs:{id:"bnamecaps"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.badges.badge_name_format,"caps",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"no"}},[e._v("No. Don't capitalize")]),t("option",{attrs:{value:"yes"}},[e._v("Yes. All caps.")])])])]),t("hr"),e._m(1),t("div",{staticClass:"double"},[t("label",{attrs:{for:"bjobcolor"}},[e._v("Color "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_job_format.color,expression:"badges.badge_job_format.color"}],attrs:{id:"bjobcolor"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.badges.badge_job_format,"color",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"black"}},[e._v("Black")]),t("option",{attrs:{value:"dark"}},[e._v("Dark")]),t("option",{attrs:{value:"luxury"}},[e._v("Luxury")]),t("option",{attrs:{value:"blue"}},[e._v("DagorÃ  blue")]),t("option",{attrs:{value:"green"}},[e._v("DagorÃ  green")])])]),t("label",{attrs:{for:"bjobfontsize"}},[e._v("Font size "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_job_format.fontsize,expression:"badges.badge_job_format.fontsize"}],attrs:{type:"number",id:"bjobfontsize"},domProps:{value:e.badges.badge_job_format.fontsize},on:{input:function(t){t.target.composing||e.$set(e.badges.badge_job_format,"fontsize",t.target.value)}}})])]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"bjobalign"}},[e._v("Text align "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_job_format.align,expression:"badges.badge_job_format.align"}],attrs:{id:"bjobalign"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.badges.badge_job_format,"align",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"L"}},[e._v("Left")]),t("option",{attrs:{value:"C"}},[e._v("Center")]),t("option",{attrs:{value:"R"}},[e._v("Right")])])]),t("label",{attrs:{for:"bjobcaps"}},[e._v("Capitalize text? "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_job_format.caps,expression:"badges.badge_job_format.caps"}],attrs:{id:"bjobcaps"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.badges.badge_job_format,"caps",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"no"}},[e._v("No. Don't capitalize")]),t("option",{attrs:{value:"yes"}},[e._v("Yes. All caps.")])])])]),t("hr"),e._m(2),t("div",{staticClass:"double"},[t("label",{attrs:{for:"bcompcolor"}},[e._v("Color "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_company_format.color,expression:"badges.badge_company_format.color"}],attrs:{id:"bcompcolor"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.badges.badge_company_format,"color",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"black"}},[e._v("Black")]),t("option",{attrs:{value:"dark"}},[e._v("Dark")]),t("option",{attrs:{value:"luxury"}},[e._v("Luxury")]),t("option",{attrs:{value:"blue"}},[e._v("DagorÃ  blue")]),t("option",{attrs:{value:"green"}},[e._v("DagorÃ  green")])])]),t("label",{attrs:{for:"bcompfontsize"}},[e._v("Font size "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_company_format.fontsize,expression:"badges.badge_company_format.fontsize"}],attrs:{type:"number",id:"bcompfontsize"},domProps:{value:e.badges.badge_company_format.fontsize},on:{input:function(t){t.target.composing||e.$set(e.badges.badge_company_format,"fontsize",t.target.value)}}})])]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"bcompalign"}},[e._v("Text align "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_company_format.align,expression:"badges.badge_company_format.align"}],attrs:{id:"bcompalign"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.badges.badge_company_format,"align",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"L"}},[e._v("Left")]),t("option",{attrs:{value:"C"}},[e._v("Center")]),t("option",{attrs:{value:"R"}},[e._v("Right")])])]),t("label",{attrs:{for:"bcompcaps"}},[e._v("Capitalize text? "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_company_format.caps,expression:"badges.badge_company_format.caps"}],attrs:{id:"bcompcaps"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.badges.badge_company_format,"caps",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"no"}},[e._v("No. Don't capitalize")]),t("option",{attrs:{value:"yes"}},[e._v("Yes. All caps.")])])])]),t("input",{attrs:{type:"submit",value:"Save edits"}})])])],1)},X=[function(){var e=this,t=e._self._c;return t("p",[e._v("Badge "),t("strong",[e._v("name field")])])},function(){var e=this,t=e._self._c;return t("p",[e._v("Badge "),t("strong",[e._v("job title field")])])},function(){var e=this,t=e._self._c;return t("p",[e._v("Badge "),t("strong",[e._v("company field")])])}],G={name:"SetUp",components:{MessageAnnounce:w},data(){return{menuItem:"globals",announce:null,globals:{event_name:"xxxx",event_payoff:"ccccc",event_date:null,event_start:null,event_end:null},apis:{alt_stripe_key:null,event_tag:null,hubspot_list:null,hubspot_key:null},venue:{venue_name:null,venue_address:null,venue_city:null,venue_country:null,max_attendees:null,ticket_price:null},badges:{badge_template:null,badge_x:null,badge_y:null,badge_x_p2:null,badge_y_p2:null,badge_namebreak:null,badge_company_format:{color:null,fontsize:null,align:null,caps:null},badge_job_format:{color:null,fontsize:null,align:null,caps:null},badge_name_format:{color:null,fontsize:null,align:null,caps:null}}}},methods:{killMessage(){this.announce=null},async sendOptions(e){const t=JSON.stringify(this[e]),n=d.optionsRoute,o={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(n,{method:"POST",headers:o,body:t}).then((e=>e.json())).then((e=>{this.announce=e}))},async getAllOptions(){const e=d.AllOptionsRoute,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{Object.entries(e).forEach((([t])=>{const n=e[t][0],o=e[t][1];(this.globals[n]||null===this.globals[n])&&(this.globals[n]=o),(this.apis[n]||null===this.apis[n])&&(this.apis[n]=o),(this.venue[n]||null===this.venue[n])&&(this.venue[n]=o),(this.badges[n]||null===this.badges[n])&&(this.badges[n]=o)}))}))},async badgeUpload(){const e=document.getElementById("badge_template").files[0],t=new FormData;t.append("file",e);const n=`${d.rootUrl}/wp-json/wp/v2/media/`,o={credentials:"same-origin","X-WP-Nonce":this.nonce};fetch(n,{method:"POST",headers:o,body:t}).then((e=>e.json())).then((e=>{e.id?this.badges.badge_template=e.source_url:this.announce=["Error","Something went wrong with your upload. Please check file and try again."]}))}},mounted(){this.getAllOptions()}},U=G,q=(0,f.Z)(U,F,X,!1,null,null,null),Y=q.exports,Z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"front-desk sub-section"},[e.announce?t("message-announce",{attrs:{message:e.announce},on:{closeMessage:function(t){return e.killMessage()}}}):e._e(),t("div",{staticClass:"my-front-desk"},[t("div",{staticClass:"registrations-list"},[t("h3",[e._v("Current registrations")]),t("vue-good-table",{attrs:{columns:e.columns,rows:e.registrationsDesk,theme:"black-rhino","search-options":{enabled:!0},"pagination-options":{enabled:!0,perPage:50,position:"bottom"}},scopedSlots:e._u([{key:"table-row",fn:function(n){return["checkin"===n.column.field?t("div",{staticClass:"last-col"},["0"===n.row.checked_in?t("button",{staticClass:"check-button",staticStyle:{display:"flex",width:"70px","align-items":"center","justify-content":"space-between","padding-right":"10px"},on:{click:function(t){return e.updateAttendance(n.row.id,"add")}}},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 176 217.6 336 160 272"}})]),e._v(" Check in ")]):t("span",[t("svg",{staticClass:"check-icon ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 176 217.6 336 160 272"}})]),e._v(" Guest checked in ")]),t("button",{staticClass:"check-button print",staticStyle:{display:"flex",width:"70px","align-items":"center","justify-content":"space-between","margin-left":"auto",background:"#7fc41c","padding-right":"10px"},on:{click:function(t){return e.printBadge(n.row.id)}}},[t("svg",{staticClass:"check-icon ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",d:"M384 368h24a40.12 40.12 0 0 0 40-40V168a40.12 40.12 0 0 0-40-40H104a40.12 40.12 0 0 0-40 40v160a40.12 40.12 0 0 0 40 40h24"}}),t("rect",{attrs:{width:"256",height:"208",x:"128",y:"240",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",rx:"24.32",ry:"24.32"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",d:"M384 128v-24a40.12 40.12 0 0 0-40-40H168a40.12 40.12 0 0 0-40 40v24"}}),t("circle",{attrs:{cx:"392",cy:"184",r:"24"}})]),e._v(" Print ")])]):e._e()]}}])})],1),t("div",{staticClass:"ad-hoc-registration-form"},[t("form",{on:{submit:function(t){return t.preventDefault(),e.adHocRegistration()}}},[t("h3",[e._v("Add new registration")]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"fname"}},[e._v("First name (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newreg.name,expression:"newreg.name"}],attrs:{type:"text",id:"fname"},domProps:{value:e.newreg.name},on:{input:function(t){t.target.composing||e.$set(e.newreg,"name",t.target.value)}}})]),t("label",{attrs:{for:"lname"}},[e._v("Last name (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newreg.surname,expression:"newreg.surname"}],attrs:{type:"text",id:"lname"},domProps:{value:e.newreg.surname},on:{input:function(t){t.target.composing||e.$set(e.newreg,"surname",t.target.value)}}})])]),t("div",{staticClass:"company_type_wrapper double"},[t("label",{attrs:{for:"company"}},[e._v("Company (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newreg.company,expression:"newreg.company"}],attrs:{type:"text",id:"company"},domProps:{value:e.newreg.company},on:{input:function(t){t.target.composing||e.$set(e.newreg,"company",t.target.value)}}})]),t("label",{attrs:{for:"company_type"}},[e._v("Company type (Required) "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.newreg.my_company_is,expression:"newreg.my_company_is"}],attrs:{name:"company_type",id:"company_type"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newreg,"my_company_is",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:"Brand, Retailer, Manufacturer or Online Shop"}},[e._v(" Brand, Retailer, Manufacturer or Online Shop")]),t("option",{attrs:{value:"Investor, Family Office,"}},[e._v(" Investor, Family Office, Business Angel")]),t("option",{attrs:{value:"Media & Press"}},[e._v(" Media / Press / Journalism")]),t("option",{attrs:{value:"Public Administration / Institution"}},[e._v(" Public Administration / Institution")]),t("option",{attrs:{value:"Research Institute, University, School"}},[e._v(" Research Institute, University, School")]),t("option",{attrs:{value:"Vendor / Supplier of Services"}},[e._v(" Vendor / Supplier of Services for Innovation and e-Commerce")]),t("option",{attrs:{value:"Other"}},[e._v("Other")])])])]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"role"}},[e._v("Role (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newreg.role,expression:"newreg.role"}],attrs:{type:"text",id:"role"},domProps:{value:e.newreg.role},on:{input:function(t){t.target.composing||e.$set(e.newreg,"role",t.target.value)}}})]),t("label",{attrs:{for:"email"}},[e._v("Email address (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newreg.email,expression:"newreg.email"}],attrs:{type:"email",id:"email"},domProps:{value:e.newreg.email},on:{input:function(t){t.target.composing||e.$set(e.newreg,"email",t.target.value)}}})])]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"phone"}},[e._v("Office phone (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newreg.office,expression:"newreg.office"}],attrs:{type:"tel",id:"phone"},domProps:{value:e.newreg.office},on:{input:function(t){t.target.composing||e.$set(e.newreg,"office",t.target.value)}}})]),t("button",{staticClass:"form-button",class:{ready:this.ready},staticStyle:{"margin-top":"20px"}},[e._v("Submit")])])])])])],1)},J=[],K={components:{VueGoodTable:p.K,MessageAnnounce:w},data(){return{announce:null,sorts:{direction:"desc",column:null},registrationsDesk:[],filter:"",ready:!1,newreg:{name:"",surname:"",company:"",my_company_is:"",role:"",email:"",office:""},columns:[{label:"Name",field:"name"},{label:"Surname",field:"surname"},{label:"Company",field:"company"},{label:"Badge link",field:this.checkPrintStatus,html:!0},{label:"Checked in",field:"checkin"}]}},mounted(){this.grabAllRegistrations()},methods:{isCheckedIn(e){return e.checked_in},checkPrintStatus(e){return e.badge_link&&"1"===e.printed?`<a href='${e.badge_link}' target='_blank'>View</a>`:e.badge_link||"1"!==e.printed?"":`See <a href='${document.location.origin}/wp-content/plugins/eventer/badges/all_badges.zip' target='_blank'>zip folder</a> of all badges`},async updateAttendance(e,t){const n="/wp-json/core-vue/do_my_check_in",o={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce},a=JSON.stringify({id:e,cmd:t});fetch(n,{method:"POST",headers:o,body:a}).then((e=>e.json())).then((e=>{this.announce=e,"Success"!==this.announce[0]&&(this.announce=["Something went wrong","Please try again"])}))},async grabAllRegistrations(){this.registrationsList=[];const e=d.allRegistrations,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.registrationsDesk=e.reverse()}))},async adHocRegistration(){if(!this.newreg.name||!this.newreg.surname||!this.newreg.email||!this.newreg.company||!this.newreg.office)return void(this.announce=["Hold it right there...","You need to supply all required fields (name, surname, company, email, role and phone)"]);this.ready=!1;const e=JSON.stringify(this.newreg),t=d.adHocRegistration,n={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(t,{method:"POST",headers:n,body:e}).then(this.oneToEdit=null).then((e=>e.json())).then((e=>{this.announce=e,"Success"===this.announce[0]&&this.resetForm()}))},killMessage(){this.grabAllRegistrations(),this.announce=null},resetForm(){this.newreg={name:"",surname:"",company:"",my_company_is:"",role:"",email:""},this.ready=!1},async printBadge(e){const t=d.printBadge,n={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce},o=JSON.stringify({ids:e});fetch(t,{method:"POST",headers:n,body:o}).then((e=>e.json())).then((e=>{this.announce=e,"Success"===this.announce[0]&&this.grabAllRegistrations()}))}},watch:{newreg:{handler(){this.newreg.name&&this.newreg.surname&&this.newreg.email&&this.newreg.company?this.ready=!0:this.ready=!1},deep:!0}}},Q=K,ee=(0,f.Z)(Q,Z,J,!1,null,null,null),te=ee.exports,ne={name:"App",data(){return{currentPage:"setup"}},components:{NavBar:O,setup:Y,RegistrationsList:W,CouponsManagement:T,DataPlay:$,FrontDesk:te},mounted(){const e=new URLSearchParams(window.location.search);e.has("section")&&this.goToPage(e.get("section"))},methods:{goToPage(e){this.currentPage=e;const t=new URLSearchParams(window.location.search);t.set("section",e),window.history.replaceState({},"",`${window.location.pathname}?${t}`)}}},oe=ne,ae=(0,f.Z)(oe,s,i,!1,null,null,null),se=ae.exports;const ie=wpApiSettings;o.ZP.config.productionTip=!1,o.ZP.prototype.$wp=ie,o.ZP.mixin({data(){return{nonce:this.$wp.nonce}}}),new o.ZP({render:e=>e(se)}).$mount("#app"),o.ZP.use(a.Z,{bodyScrollOptions:{reserveScrollBarGap:!0}})}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,s){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],s=e[u][2];for(var r=!0,l=0;l<o.length;l++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(r=!1,s<i&&(i=s));if(r){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,a,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,s,i=o[0],r=o[1],l=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(l)var u=l(n)}for(t&&t(o);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},o=self["webpackChunkcore"]=self["webpackChunkcore"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4601)}));o=n.O(o)})();
//# sourceMappingURL=eventerWebpack.js.map