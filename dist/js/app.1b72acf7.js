(function(){"use strict";var e={6438:function(e,t,o){var n=o(6369),s=o(3993),a=function(){var e=this,t=e._self._c;return t("div",[t("NavBar",{attrs:{selected:"currentPage"},on:{pageSelect:e.goToPage}}),"setup"==e.currentPage?t("section",{staticClass:"admin-main"},[t("h2",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z"}}),t("path",{attrs:{d:"m490.91 244.15-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"}})]),e._v(" Event setup")]),t("setup")],1):e._e(),"badge"==e.currentPage?t("section",{staticClass:"admin-main"},[t("h2",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M32 376a56 56 0 0 0 56 56h336a56 56 0 0 0 56-56V222H32zm66-76a30 30 0 0 1 30-30h48a30 30 0 0 1 30 30v20a30 30 0 0 1-30 30h-48a30 30 0 0 1-30-30zM424 80H88a56 56 0 0 0-56 56v26h448v-26a56 56 0 0 0-56-56z"}})]),e._v(" Badges and registrations")]),t("registrations-list")],1):e._e(),"coupon"==e.currentPage?t("section",{staticClass:"admin-main"},[t("h2",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"m490.18 181.4-44.13-44.13a20 20 0 0 0-27-1 30.81 30.81 0 0 1-41.68-1.6 30.81 30.81 0 0 1-1.6-41.67 20 20 0 0 0-1-27L330.6 21.82a19.91 19.91 0 0 0-28.13 0l-70.35 70.34a39.87 39.87 0 0 0-9.57 15.5 7.71 7.71 0 0 1-4.83 4.83 39.78 39.78 0 0 0-15.5 9.58l-180.4 180.4a19.91 19.91 0 0 0 0 28.13L66 374.73a20 20 0 0 0 27 1 30.69 30.69 0 0 1 43.28 43.28 20 20 0 0 0 1 27l44.13 44.13a19.91 19.91 0 0 0 28.13 0l180.4-180.4a39.82 39.82 0 0 0 9.58-15.49 7.69 7.69 0 0 1 4.84-4.84 39.84 39.84 0 0 0 15.49-9.57l70.34-70.35a19.91 19.91 0 0 0-.01-28.09zm-228.37-29.65a16 16 0 0 1-22.63 0l-11.51-11.51a16 16 0 0 1 22.63-22.62l11.51 11.5a16 16 0 0 1 0 22.63zm44 44a16 16 0 0 1-22.62 0l-11-11a16 16 0 1 1 22.63-22.63l11 11a16 16 0 0 1 .01 22.66zm44 44a16 16 0 0 1-22.63 0l-11-11a16 16 0 0 1 22.63-22.62l11 11a16 16 0 0 1 .05 22.67zm44.43 44.54a16 16 0 0 1-22.63 0l-11.44-11.5a16 16 0 1 1 22.68-22.57l11.45 11.49a16 16 0 0 1-.01 22.63z"}})]),e._v(" Coupons & invitations")]),t("coupons-management")],1):e._e(),"invitation"==e.currentPage?t("section",{staticClass:"admin-main"},[t("h2",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M496 128.05A64 64 0 0 0 389.62 80a64.52 64.52 0 0 0-12.71 15.3v.06c-.54.9-1.05 1.82-1.55 2.74l-.24.49c-.42.79-.81 1.59-1.19 2.4-.12.25-.23.5-.34.75-.33.73-.65 1.47-.95 2.22-.13.31-.25.62-.37.93-.27.7-.53 1.4-.78 2.11l-.36 1.06c-.22.68-.43 1.37-.63 2.06-.12.39-.23.77-.33 1.16-.19.67-.35 1.35-.51 2-.1.41-.2.82-.29 1.23-.14.68-.27 1.37-.39 2-.08.42-.16.84-.23 1.26-.11.7-.2 1.41-.29 2.12-.05.41-.11.82-.16 1.24-.08.77-.13 1.54-.19 2.32 0 .36-.06.72-.08 1.08-.06 1.14-.1 2.28-.1 3.44 0 1 0 2 .08 2.94v.64q.08 1.41.21 2.82l.06.48c.09.85.19 1.69.32 2.52 0 .17 0 .35.07.52.14.91.31 1.81.49 2.71 0 .22.09.43.13.65.18.86.38 1.72.6 2.57v.19c.23.89.48 1.76.75 2.63l.21.68c.27.85.55 1.68.85 2.51.06.18.13.36.2.54.27.71.55 1.42.84 2.12.08.21.16.41.25.61.34.79.69 1.58 1.06 2.36l.33.67c.35.7.7 1.4 1.07 2.09a64.34 64.34 0 0 0 22.14 23.81 62.22 62.22 0 0 0 7.62 4.15l.39.18q2.66 1.2 5.43 2.16l.95.32 1.5.47c.45.14.9.26 1.36.39l1.92.5 1.73.4 1.15.23 1.83.33.94.15c.9.13 1.81.25 2.72.35l.77.07c.73.06 1.47.12 2.21.16l.86.05c1 0 1.94.08 2.92.08 1.16 0 2.3 0 3.44-.1l1.08-.08c.78-.06 1.55-.11 2.32-.19l1.25-.16c.7-.09 1.41-.18 2.11-.29l1.26-.23c.68-.12 1.37-.25 2-.39l1.23-.29c.68-.16 1.36-.32 2-.51.39-.1.77-.21 1.16-.33.69-.2 1.38-.41 2.06-.63l1.06-.36c.71-.25 1.41-.51 2.11-.78l.93-.37c.75-.3 1.49-.62 2.22-.95l.75-.34c.81-.38 1.61-.77 2.4-1.19l.49-.24c.92-.5 1.84-1 2.74-1.55h.06A64.52 64.52 0 0 0 480 170.38a63.81 63.81 0 0 0 16-42.33z"}}),t("path",{attrs:{d:"m371.38 202.53-105.56 82.1a16 16 0 0 1-19.64 0l-144-112a16 16 0 1 1 19.64-25.26L256 251.73l94.22-73.28A95.86 95.86 0 0 1 348.81 80H88a56.06 56.06 0 0 0-56 56v240a56.06 56.06 0 0 0 56 56h336a56.06 56.06 0 0 0 56-56V211.19a95.85 95.85 0 0 1-108.62-8.66z"}})]),e._v(" Coming soon")]),t("data-play")],1):e._e()],1)},i=[],r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sub-section",staticStyle:{"flex-direction":"column"}},[e.announce?t("message-announce",{attrs:{message:e.announce},on:{closeMessage:function(t){return e.killMessage()}}}):e._e(),t("vue-good-table",{attrs:{columns:e.columns,rows:e.couponsList,theme:"black-rhino","search-options":{enabled:!0},"pagination-options":{enabled:!0,perPage:20,position:"bottom"}},scopedSlots:e._u([{key:"table-row",fn:function(o){return["edit"==o.column.field?t("span",[t("button",{on:{click:function(t){return e.editCoupon(o.row.originalIndex)}}},[e._v("Edit")])]):"titleLink"==o.column.field?t("span",[t("a",{staticClass:"coupon-link",attrs:{href:o.row.permalink,target:"_blank"}},[e._v(" "+e._s(o.row.coupon_title)+" ")]),e._v(" ➜ ")]):e._e()]}}])},[t("div",{attrs:{slot:"table-actions"},slot:"table-actions"},[t("button",{staticClass:"create-new-coupon",on:{click:e.startNewCoupon}},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 0 1-32 0v-64h-64a16 16 0 0 1 0-32h64v-64a16 16 0 0 1 32 0v64h64a16 16 0 0 1 0 32z"}})])])])]),t("div",{staticClass:"export-section",staticStyle:{"margin-top":"100px !important"}},[t("h3",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m176 272 80 80 80-80M256 48v288"}})]),e._v(" Export coupons")]),t("a",{staticClass:"exporter-butt",attrs:{href:"/wp-content/plugins/eventer/export_coupons.php",target:"_blank"}},[e._v(" Export coupons ")])]),null!==e.couponToEdit?t("div",{directives:[{name:"scroll-lock",rawName:"v-scroll-lock",value:e.couponToEdit,expression:"couponToEdit"}],staticClass:"edit-shelf"},[t("div",{staticClass:"content-wrap"},[t("span",{staticClass:"options-title"},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90 218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z"}}),t("path",{attrs:{d:"M386.34 193.66 264.45 315.79A41.08 41.08 0 0 1 247.58 326l-25.9 8.67a35.92 35.92 0 0 1-44.33-44.33l8.67-25.9a41.08 41.08 0 0 1 10.19-16.87l122.13-121.91a8 8 0 0 0-5.65-13.66H104a56 56 0 0 0-56 56v240a56 56 0 0 0 56 56h240a56 56 0 0 0 56-56V199.31a8 8 0 0 0-13.66-5.65z"}})]),t("h2",[e._v("Edit coupon")])]),t("button",{staticClass:"close-button",on:{click:function(t){e.couponToEdit=null}}},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 320 192 192m0 128 128-128"}})])]),t("form",{attrs:{id:"edit-registrant"}},[t("h2",[e._v("Coupon details")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.invitation_post_id,expression:"couponToEdit.invitation_post_id"}],attrs:{type:"hidden"},domProps:{value:e.couponToEdit.invitation_post_id},on:{input:function(t){t.target.composing||e.$set(e.couponToEdit,"invitation_post_id",t.target.value)}}}),t("div",{staticClass:"double"},[t("label",{attrs:{for:"code"}},[e._v("Coupon code "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.coupon_title,expression:"couponToEdit.coupon_title"}],attrs:{type:"text",id:"code"},domProps:{value:e.couponToEdit.coupon_title},on:{input:function(t){t.target.composing||e.$set(e.couponToEdit,"coupon_title",t.target.value)}}})]),t("label",{attrs:{for:"lname"}},[e._v("Discount "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.discount,expression:"couponToEdit.discount"}],attrs:{type:"text",id:"lname",placeholder:"e.g. 75, 50, 100"},domProps:{value:e.couponToEdit.discount},on:{input:function(t){t.target.composing||e.$set(e.couponToEdit,"discount",t.target.value)}}})])]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"max-uses"}},[e._v("Max uses allowed "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.max_uses,expression:"couponToEdit.max_uses"}],attrs:{type:"number",id:"max-uses"},domProps:{value:e.couponToEdit.max_uses},on:{input:function(t){t.target.composing||e.$set(e.couponToEdit,"max_uses",t.target.value)}}})]),t("label",{attrs:{for:"actual-uses"}},[e._v("Actual uses "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.actual_uses,expression:"couponToEdit.actual_uses"}],attrs:{type:"number",id:"actual-uses",disabled:""},domProps:{value:e.couponToEdit.actual_uses},on:{input:function(t){t.target.composing||e.$set(e.couponToEdit,"actual_uses",t.target.value)}}})])]),t("h2",[e._v("Invitation details")]),t("div",{staticClass:"checkbox-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.guest_status,expression:"couponToEdit.guest_status"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.couponToEdit.guest_status)?e._i(e.couponToEdit.guest_status,null)>-1:e.couponToEdit.guest_status},on:{change:[function(t){var o=e.couponToEdit.guest_status,n=t.target,s=!!n.checked;if(Array.isArray(o)){var a=null,i=e._i(o,a);n.checked?i<0&&e.$set(e.couponToEdit,"guest_status",o.concat([a])):i>-1&&e.$set(e.couponToEdit,"guest_status",o.slice(0,i).concat(o.slice(i+1)))}else e.$set(e.couponToEdit,"guest_status",s)},function(t){return e.changeGuestStatus(t)}]}}),t("p",[e._v("Is this for guests?")])]),t("label",{attrs:{for:"related-post"}},[e._v("Recipient "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.recipient_id,expression:"couponToEdit.recipient_id"}],attrs:{name:"related-post"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.couponToEdit,"recipient_id",t.target.multiple?o:o[0])}}},[t("option",{attrs:{value:"other"}},[e._v("Other")]),e._l(e.usersList,(function(o,n){return t("option",{key:n,domProps:{value:o.id}},[e._v(" "+e._s(o.name)+" ")])}))],2)]),t("label",{directives:[{name:"show",rawName:"v-show",value:"other"===e.couponToEdit.recipient_id,expression:"couponToEdit.recipient_id === 'other'"}],attrs:{for:"other-recipient"}},[e._v(" Add new recipient if not in dropdown list "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.recipient_name,expression:"couponToEdit.recipient_name"}],attrs:{type:"text",id:"other-recipient"},domProps:{value:e.couponToEdit.recipient_name},on:{input:function(t){t.target.composing||e.$set(e.couponToEdit,"recipient_name",t.target.value)}}})]),t("label",{attrs:{for:"coupon-type"}},[e._v("Coupon type "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.invitation_type,expression:"couponToEdit.invitation_type"}],attrs:{id:"coupon-type"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.couponToEdit,"invitation_type",t.target.multiple?o:o[0])}}},[t("option",{attrs:{value:"generic"}},[e._v("Generic coupon")]),t("option",{attrs:{value:"Netcomm member"}},[e._v("Netcomm member")]),t("option",{attrs:{value:"Dagorà member"}},[e._v("Dagorà member")]),t("option",{attrs:{value:"LTCC member"}},[e._v("LTCC member")]),t("option",{attrs:{value:"Brand-retailer-manufacturer"}},[e._v(" Brand/Retailer/Manufacturer")]),t("option",{attrs:{value:"Staff"}},[e._v("Staff")]),t("option",{attrs:{value:"Speaker"}},[e._v("Speaker")]),t("option",{attrs:{value:"Sponsor"}},[e._v("Sponsor")]),t("option",{attrs:{value:"Prospect"}},[e._v("Prospect")]),t("option",{attrs:{value:"Institution"}},[e._v("Institution")]),t("option",{attrs:{value:"School-university"}},[e._v("School/University")])])]),t("label",{attrs:{for:"related-post"}},[e._v("Invitation layout "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.couponToEdit.with_headliners,expression:"couponToEdit.with_headliners"}],attrs:{id:"coupon-type"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.couponToEdit,"with_headliners",t.target.multiple?o:o[0])}}},[t("option",{attrs:{value:"standard"}},[e._v("Standard")]),t("option",{attrs:{value:"custom"}},[e._v("Custom")])])]),t("div",{staticStyle:{"padding-bottom":"40px"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:"custom"==e.couponToEdit.with_headliners,expression:"couponToEdit.with_headliners == 'custom'"}]},[e._v(" Choose who appears on the invitation ")]),t("v-select",{directives:[{name:"show",rawName:"v-show",value:"custom"==e.couponToEdit.with_headliners,expression:"couponToEdit.with_headliners == 'custom'"}],attrs:{multiple:"",id:"custom-headliners",name:"custom-headliners",options:e.speakersList,reduce:e=>e.id,label:"name",closeOnSelect:!1},model:{value:e.couponToEdit.headliners,callback:function(t){e.$set(e.couponToEdit,"headliners",t)},expression:"couponToEdit.headliners"}})],1),t("div",{staticClass:"double"},[e.couponToEdit.invitation_post_id?t("button",{staticClass:"save-edits form-button",attrs:{type:"button"},on:{click:function(t){return e.saveCoupon("edit")}}},[e._v(" Save edits ")]):t("button",{staticClass:"save-edits form-button",attrs:{type:"button"},on:{click:function(t){return e.saveCoupon("create")}}},[e._v(" Save edits ")]),e.couponToEdit.invitation_post_id?t("button",{staticClass:"delete-registration form-button",attrs:{type:"button"},on:{click:function(t){return e.saveCoupon("delete")}}},[e._v(" Delete coupon ")]):e._e()])])])]):e._e()],1)},l=[];const u=document.location.origin,c={rootUrl:u,optionsRoute:`${u}/wp-json/core-vue/options`,AllOptionsRoute:`${u}/wp-json/core-vue/options-all`,allRegistrations:`${u}/wp-json/core-vue/registrations-all`,editRegistrations:`${u}/wp-json/core-vue/edit-registration`,allCoupons:`${u}/wp-json/core-vue/coupons-all`,peopleAndOrgs:`${u}/wp-json/core-vue/people-and-orgs`,onlyPeople:`${u}/wp-json/core-vue/just-people`,editCouponInvitation:`${u}/wp-json/core-vue/edit-coupon-invitation`,hubspotSync:`${u}/wp-json/core-vue/hubspot-sync`,allSync:`${u}/wp-json/core-vue/all-sync`,speakerCodes:`${u}/wp-json/core-vue/speaker-codes`};var d=c,p=(o(3586),o(503)),v=o(4226),m=o.n(v),h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"message-announce"},[t("h2",[e._v(e._s(e.message[0]))]),t("p",[e._v(e._s(e.message[1]))]),t("button",{staticClass:"closer",on:{click:function(t){return e.$emit("closeMessage")}}},[e._v("✖")])])},g=[],_={props:{message:{type:Array,default(){return["All OK","Options saved."]}}}},f=_,b=o(1001),y=(0,b.Z)(f,h,g,!1,null,null,null),w=y.exports,k={name:"CouponsManagement",components:{VueGoodTable:p.K,vSelect:m(),MessageAnnounce:w},data(){return{announce:null,couponToEdit:null,couponsList:[],usersList:[],speakersList:[],columns:[{label:"Coupon",field:"titleLink"},{label:"Discount %",field:"discount"},{label:"Recipient",field:"recipient_name"},{label:"For guests?",field:this.guestCheck},{label:"Invitation type",field:"invitation_type"},{label:"Invitation display",field:this.headlinersCheck},{label:"Max uses",field:"max_uses"},{label:"Actual uses",field:"actual_uses"},{label:"View/Edit",field:"edit"}]}},methods:{killMessage(){this.grabCoupons(),this.announce=null},async grabCoupons(){this.couponsList=[];const e=d.allCoupons,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.couponsList=e}))},async grabUsers(){this.usersList=[];const e=d.peopleAndOrgs,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.usersList=e}))},async grabSpeakers(){this.usersList=[];const e=d.onlyPeople,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.speakersList=e}))},async saveCoupon(e){if(!this.couponToEdit.coupon_title||!this.couponToEdit.discount||!this.couponToEdit.recipient_id)return void(this.announce=["Hold it right there...","You need to supply all required fields (coupon code, discount % and recipient)"]);this.couponToEdit.command=e;const t=JSON.stringify(this.couponToEdit),o=d.editCouponInvitation,n={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(o,{method:"POST",headers:n,body:t}).then(this.couponToEdit=null).then((e=>e.json())).then((e=>{this.announce=e}))},guestCheck(e){return"1"===e.guest_status?"Yes":"No"},headlinersCheck(e){return e.headliners.length>=1?"Custom":"Standard"},editCoupon(e){this.couponToEdit=this.couponsList[e],"1"===this.couponsList[e].guest_status?this.couponToEdit.guest_status=!0:this.couponToEdit.guest_status=!1},startNewCoupon(){this.couponToEdit={},this.couponToEdit.with_headliners="standard",this.couponToEdit.invitation_type="generic"},changeGuestStatus(e){e.target.checked?this.couponToEdit.guest_status=!0:this.couponToEdit.guest_status=!1}},mounted(){this.grabCoupons(),this.grabUsers(),this.grabSpeakers()}},T=k,x=(0,b.Z)(T,r,l,!1,null,null,null),E=x.exports,C=function(){var e=this;e._self._c;return e._m(0)},P=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"sub-section"},[t("div",{staticClass:"pies"})])}],S={name:"DataPlay",data(){return{var:null}},components:{},methods:{}},N=S,$=(0,b.Z)(N,C,P,!1,null,null,null),j=$.exports,M=function(){var e=this,t=e._self._c;return t("div",{staticClass:"navbar"},[t("div",{staticClass:"navbar-inner"},[t("img",{staticClass:"logo",attrs:{alt:"Dagorà logo",src:"\\wp-content\\plugins\\eventer\\assets\\logo_dagora_white.png"}}),t("div",{staticClass:"menu"},[t("ul",[t("li",{class:{active:"setup"===e.onPage}},[t("button",{on:{click:function(t){e.$emit("pageSelect","setup"),e.selectThis("setup")}}},[e._v(" Event setup ")])]),t("li",{class:{active:"badge"===e.onPage}},[t("button",{on:{click:function(t){e.$emit("pageSelect","badge"),e.selectThis("badge")}}},[e._v(" Registrations & badges ")])]),t("li",{class:{active:"coupon"===e.onPage}},[t("button",{on:{click:function(t){e.$emit("pageSelect","coupon"),e.selectThis("coupon")}}},[e._v(" Coupons & invitations ")])]),t("li",{class:{active:"invitation"===e.onPage}},[t("button",{on:{click:function(t){e.$emit("pageSelect","invitation"),e.selectThis("invitation")}}},[e._v(" Data ")])])])])])])},L=[],O={data(){return{onPage:"setup"}},props:["selected"],methods:{selectThis(e){this.onPage=e}}},A=O,I=(0,b.Z)(A,M,L,!1,null,null,null),R=I.exports,z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sub-section"},[e.announce?t("message-announce",{attrs:{message:e.announce},on:{closeMessage:function(t){return e.killMessage()}}}):e._e(),t("div",{staticClass:"registrations-table"},[t("vue-good-table",{attrs:{columns:e.columns,rows:e.registrationsList,"row-style-class":e.rowStyleClassFn,theme:"black-rhino","search-options":{enabled:!0},"pagination-options":{enabled:!0,perPage:50,position:"bottom"}},scopedSlots:e._u([{key:"table-row",fn:function(o){return["edit"==o.column.field?t("div",[t("button",{on:{click:function(t){return e.editRegistrant(o.row.originalIndex)}}},[t("svg",{staticClass:"ionicon edit-me",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48"}}),t("path",{attrs:{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90 218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z"}})])]),t("button",{staticClass:"sync-state",domProps:{innerHTML:e._s(e.editButton(o.row))},on:{click:function(t){return e.syncWithHubspot(o.row.originalIndex)}}})]):e._e()]}}])},[t("div",{staticClass:"buttons-bit",attrs:{slot:"table-actions"},slot:"table-actions"},[t("button",{staticClass:"create-new-registrant",on:{click:function(t){return e.createRegistrant()}}},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 0 1-32 0v-64h-64a16 16 0 0 1 0-32h64v-64a16 16 0 0 1 32 0v64h64a16 16 0 0 1 0 32z"}})])])])]),t("div",{staticClass:"sync-all-section"},[t("h3",[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M434.67 285.59v-29.8c0-98.73-80.24-178.79-179.2-178.79a179 179 0 0 0-140.14 67.36m-38.53 82v29.8C76.8 355 157 435 256 435a180.45 180.45 0 0 0 140-66.92"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m32 256 44-44 46 44m358 0-44 44-46-44"}})]),e._v(" Sync all data with Hubspot")]),e.registrationsList.filter((e=>"0"===e.hs_synched)).length<75?t("p",[e._v(" You have "),t("strong",[e._v(" "+e._s(e.registrationsList.filter((e=>"0"===e.hs_synched)).length)+" ")]),e._v(" unsynched contacts ")]):t("p",{staticClass:"sync-warn"},[e._v("Watch out. You have "+e._s(e.registrationsList.filter((e=>"0"===e.hs_synched)).length)+" unsynched contacts. Trying to sync a large number (> 100) "),t("em",[e._v("will")]),e._v(" lead to problems. Sync now for a happier life. ")]),t("button",{on:{click:function(t){return e.syncAllWithHubspot()}}},[e._v("Sync all data")]),t("br"),t("br"),t("button",{on:{click:function(t){return e.doSpeakerCodes()}}},[e._v("Just the speakers")]),e._m(0)]),t("div",{staticClass:"export-section"},[t("h3",[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m176 272 80 80 80-80M256 48v288"}})]),e._v(" Export registration data")]),t("a",{staticClass:"exporter-butt",attrs:{href:"/wp-content/plugins/eventer/export_registrations.php",target:"_blank"}},[e._v(" Export registrations ")])])],1),null!==e.oneToEdit?t("div",{directives:[{name:"scroll-lock",rawName:"v-scroll-lock",value:e.oneToEdit,expression:"oneToEdit"}],staticClass:"edit-shelf"},[t("div",{staticClass:"content-wrap"},[t("span",{staticClass:"options-title"},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90 218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z"}}),t("path",{attrs:{d:"M386.34 193.66 264.45 315.79A41.08 41.08 0 0 1 247.58 326l-25.9 8.67a35.92 35.92 0 0 1-44.33-44.33l8.67-25.9a41.08 41.08 0 0 1 10.19-16.87l122.13-121.91a8 8 0 0 0-5.65-13.66H104a56 56 0 0 0-56 56v240a56 56 0 0 0 56 56h240a56 56 0 0 0 56-56V199.31a8 8 0 0 0-13.66-5.65z"}})]),"Pending"!=e.oneToEdit.payment_status?t("h2",[e._v("Edit registration")]):t("h2",[e._v("View non-registered contact")])]),e.oneToEdit.id&&e.checkSuspiciousFields(e.oneToEdit)?t("span",{staticClass:"sync-status-notice suspicious"},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17z"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m250.26 195.39 5.74 122 5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95z"}}),t("path",{attrs:{d:"M256 397.25a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"}})]),t("span",[e._v(" This data does not look right. please check company, email, website and name fields. ")])]):e.oneToEdit.id&&"1"!==e.oneToEdit.hs_synched?t("span",{staticClass:"sync-status-notice to-sync"},[t("svg",{staticClass:"sync-me",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M434.67 285.59v-29.8c0-98.73-80.24-178.79-179.2-178.79a179 179 0 0 0-140.14 67.36m-38.53 82v29.8C76.8 355 157 435 256 435a180.45 180.45 0 0 0 140-66.92"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m32 256 44-44 46 44m358 0-44 44-46-44"}})]),t("span",[e._v(" Not yet synched with Hubspot. ")])]):e._e(),t("button",{staticClass:"close-button",on:{click:function(t){e.oneToEdit=null}}},[t("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}}),t("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 320 192 192m0 128 128-128"}})])]),t("form",{attrs:{id:"edit-registrant"}},[t("h2",[e._v("User contacts")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.id,expression:"oneToEdit.id"}],attrs:{type:"hidden"},domProps:{value:e.oneToEdit.id},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"id",t.target.value)}}}),t("div",{staticClass:"double"},[t("label",{attrs:{for:"fname"}},[e._v("First name (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.name,expression:"oneToEdit.name"}],attrs:{type:"text",id:"fname"},domProps:{value:e.oneToEdit.name},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"name",t.target.value)}}})]),t("label",{attrs:{for:"lname"}},[e._v("Last name (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.surname,expression:"oneToEdit.surname"}],attrs:{type:"text",id:"lname"},domProps:{value:e.oneToEdit.surname},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"surname",t.target.value)}}})])]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"company"}},[e._v("Company (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.company,expression:"oneToEdit.company"}],attrs:{type:"text",id:"company"},domProps:{value:e.oneToEdit.company},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"company",t.target.value)}}})]),t("label",{attrs:{for:"website"}},[e._v("Website "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.website,expression:"oneToEdit.website"}],attrs:{type:"url",id:"website"},domProps:{value:e.oneToEdit.website},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"website",t.target.value)}}})])]),t("div",{staticClass:"company_type_wrapper"},[t("p",[e._v("Company type")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.my_company_is,expression:"oneToEdit.my_company_is"}],attrs:{name:"company_type",id:"company_type"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.oneToEdit,"my_company_is",t.target.multiple?o:o[0])}}},[t("option",{attrs:{value:"Brand, Retailer, Manufacturer or Online Shop"}},[e._v(" Brand, Retailer, Manufacturer or Online Shop")]),t("option",{attrs:{value:"Investor, Family Office,"}},[e._v(" Investor, Family Office, Business Angel")]),t("option",{attrs:{value:"Media & Press"}},[e._v(" Media / Press / Journalism")]),t("option",{attrs:{value:"Public Administration / Institution"}},[e._v(" Public Administration / Institution")]),t("option",{attrs:{value:"Research Institute, University, School"}},[e._v(" Research Institute, University, School")]),t("option",{attrs:{value:"Vendor / Supplier of Services"}},[e._v(" Vendor / Supplier of Services for Innovation and e-Commerce")]),t("option",{attrs:{value:"Other"}},[e._v("Other")])])]),t("label",{attrs:{for:"role"}},[e._v("Role "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.role,expression:"oneToEdit.role"}],attrs:{type:"text",id:"role"},domProps:{value:e.oneToEdit.role},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"role",t.target.value)}}})]),t("label",{attrs:{for:"email"}},[e._v("Email address (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.email,expression:"oneToEdit.email"}],attrs:{type:"email",id:"email"},domProps:{value:e.oneToEdit.email},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"email",t.target.value)}}})]),t("div",[t("label",{attrs:{for:"mobile"}},[e._v("Mobile phone "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.mobile_phone,expression:"oneToEdit.mobile_phone"}],attrs:{type:"text",id:"company"},domProps:{value:e.oneToEdit.mobile_phone},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"mobile_phone",t.target.value)}}})]),t("label",{attrs:{for:"office"}},[e._v("Office phone (Required) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.office_phone,expression:"oneToEdit.office_phone"}],attrs:{type:"text",id:"office"},domProps:{value:e.oneToEdit.office_phone},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"office_phone",t.target.value)}}})])]),t("h2",[e._v("Address")]),t("label",{attrs:{for:"address"}},[e._v("Address "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.street_address,expression:"oneToEdit.street_address"}],attrs:{type:"text",id:"address"},domProps:{value:e.oneToEdit.street_address},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"street_address",t.target.value)}}})]),t("label",{attrs:{for:"city"}},[e._v("City "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.city,expression:"oneToEdit.city"}],attrs:{type:"text",id:"city"},domProps:{value:e.oneToEdit.city},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"city",t.target.value)}}})]),t("label",{attrs:{for:"country"}},[e._v("Country "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneToEdit.country,expression:"oneToEdit.country"}],attrs:{type:"text",id:"country"},domProps:{value:e.oneToEdit.country},on:{input:function(t){t.target.composing||e.$set(e.oneToEdit,"country",t.target.value)}}})]),t("h2",[e._v("Sign-up details")]),e.oneToEdit.id?t("ul",[t("li",[e._v("Coupon: "),t("strong",[e._v(e._s(e.oneToEdit.coupon_code))])]),t("li",[e._v("Billed: "),t("strong",[e._v("CHF "+e._s(e.oneToEdit.paid))]),"Pending"==e.oneToEdit.payment_status?t("span",[e._v(" - contact will not be registered to event until payment")]):e._e()]),t("li",{class:{pending:"Pending"==e.oneToEdit.payment_status}},[e._v(" Payment status: "),t("strong",[e._v(e._s(e.oneToEdit.payment_status))])]),t("li",[e._v("Sign-up date: "),t("strong",[t("span",{domProps:{innerHTML:e._s(e.registrationDate(e.oneToEdit))}})])]),t("li",[e._v("User interests: "),t("strong",[t("span",{domProps:{innerHTML:e._s(e.sortLikes(e.oneToEdit))}})])])]):e._e(),t("div",{staticClass:"double"},[e.oneToEdit.id?t("button",{staticClass:"save-edits form-button",attrs:{type:"button"},on:{click:function(t){return e.editRegistration("edit")}}},[e._v(" Save edits ")]):t("button",{staticClass:"save-edits form-button",attrs:{type:"button"},on:{click:function(t){return e.editRegistration("create")}}},[e._v(" Add registration ")]),e.oneToEdit.id&&"1"!==e.oneToEdit.hs_synched?t("button",{staticClass:"form-button hubspot-sync",attrs:{type:"button"},on:{click:function(t){return e.syncWithHubspot(e.oneToEdit.id)}}},[e._v(" Sync with Hubspot ")]):e._e(),e.oneToEdit.id?t("button",{staticClass:"delete-registration form-button",attrs:{type:"button"},on:{click:function(t){return e.editRegistration("delete")}}},[e._v(" Delete registration ")]):e._e()])])])]):e._e()],1)},B=[function(){var e=this,t=e._self._c;return t("p",[e._v('Hitting "Just the speakers" will sync just the '),t("strong",[e._v("speaker invitation codes")]),e._v(" in Hubspot. It does "),t("em",[e._v("all speakers")]),e._v(" at once and it can be used multiple times, no problem. (Please note, we do not have all the speaker's personal info, so only email and coupon will be synced).")])}],H={name:"RegistrationsList",components:{VueGoodTable:p.K,MessageAnnounce:w},data(){return{oneToEdit:null,announce:null,registrationsList:[],columns:[{label:"Name",field:this.concatName},{label:"Email",field:"email"},{label:"Company",field:"company"},{label:"Job title",field:"role"},{label:"Company type",field:"my_company_is"},{label:"Coupon",field:"coupon_code"},{label:"Status",field:this.paidAmount},{label:"Printed",field:this.printedOrNot},{label:"Registered",field:this.registrationDate},{label:"View/Edit",field:"edit"}]}},methods:{async doSpeakerCodes(){this.announce=["Ok. Synching speakers","This may take a minute. Please do not close this tab."];const e=d.speakerCodes,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.announce=e}))},async grabRegistrations(){this.registrationsList=[];const e=d.allRegistrations,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{this.registrationsList=e}))},async syncAllWithHubspot(){this.announce=["Ok. Let's do this","Please wait while we synch Hubspot data. This may take a few minutes. Please do not close this tab."];const e=d.allSync,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{"Success"===e[0]?this.announce=e:this.announce=["Uh oh","Something went wrong with the sync. Sorry, we do not know any more than that."]}))},async editRegistration(e){if("delete"!==e&&(!this.oneToEdit.name||!this.oneToEdit.surname||!this.oneToEdit.email||!this.oneToEdit.company||!this.oneToEdit.office_phone))return void(this.announce=["Hold it right there...","You need to supply all required fields (name, surname, company, email and office phone)"]);this.oneToEdit.command=e;const t=JSON.stringify(this.oneToEdit),o=d.editRegistrations,n={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(o,{method:"POST",headers:n,body:t}).then(this.oneToEdit=null).then((e=>e.json())).then((e=>{this.announce=e}))},editButton(e){let t="";const o=this.syncHsCheck(e);switch(o){case"suspicious":t='<svg class="suspicious" xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17z"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m250.26 195.39 5.74 122 5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95z"/><path d="M256 397.25a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"/></svg>';break;case"ok":t='<svg class="all-ok" xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M352 176 217.6 336 160 272"/></svg>';break;case"sync-me":t='<svg class="sync-me" xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M434.67 285.59v-29.8c0-98.73-80.24-178.79-179.2-178.79a179 179 0 0 0-140.14 67.36m-38.53 82v29.8C76.8 355 157 435 256 435a180.45 180.45 0 0 0 140-66.92"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m32 256 44-44 46 44m358 0-44 44-46-44"/></svg>';break;default:t='<svg class="all-ok" xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M352 176 217.6 336 160 272"/></svg></button>'}return t},syncHsCheck(e){const t=this.checkSuspiciousFields(e);return"0"===e.hs_synched&&!0===t?"suspicious":"0"===e.hs_synched?"sync-me":(e.hs_synched,"ok")},async syncWithHubspot(e){let t=null;if(t=null==this.oneToEdit?this.registrationsList[e]:this.oneToEdit,!t.name||!t.surname||!t.email||!t.company||!t.office_phone)return void(this.announce=["Hold it right there...","You need to supply all required fields (name, surname, company, email and office phone)"]);this.oneToEdit=null;const o=JSON.stringify(t),n=d.hubspotSync,s={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(n,{method:"POST",headers:s,body:o}).then((e=>e.json())).then((e=>{this.announce=e}))},concatName(e){return e.name+" "+e.surname},paidAmount(e){const t=e.payment_status;return"Pending"===t?"Abandoned cart":e.payment_status},printedOrNot(e){return"0"===e.printed?"No":"Yes"},editRegistrant(e){this.oneToEdit=this.registrationsList[e]},sortLikes(e){return e.interests?e.interests.replaceAll(",",", "):""},registrationDate(e){if(!e.sign_up_date)return"";const t=e.sign_up_date;return t.split("-").reverse().join("-")},killMessage(){this.grabRegistrations(),this.announce=null},createRegistrant(){this.oneToEdit={}},rowStyleClassFn(e){return"Pending"===e.payment_status?"abandoned":"normal"},checkSuspiciousFields(e){let t=0,o=e.company;const n=e.email;if(-1===n.indexOf("@"))return!0;const s=n.split("@")[1];return-1!==o.indexOf(" ")&&(o=e.company.split(" ")[0].toLowerCase(),o.length<3&&(o=e.company.split(" ")[1].toLowerCase())),-1!==n.indexOf(e.name.toLowerCase())&&t++,-1!==n.indexOf(e.surname.toLowerCase())&&t++,-1!==s.indexOf(o.toLowerCase())&&t++,-1!==e.website.indexOf(s)&&t++,t<2}},mounted(){this.grabRegistrations()}},V=H,D=(0,b.Z)(V,z,B,!1,null,null,null),W=D.exports,G=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sub-section"},[t("div",{staticClass:"side-column"},[t("ul",{staticClass:"submenu"},[t("li",{class:{active:"globals"==e.menuItem}},[t("button",{on:{click:function(t){e.menuItem="globals"}}},[e._v("Event globals")])]),t("li",{class:{active:"apis"==e.menuItem}},[t("button",{on:{click:function(t){e.menuItem="apis"}}},[e._v("APIs")])]),t("li",{class:{active:"venue"==e.menuItem}},[t("button",{on:{click:function(t){e.menuItem="venue"}}},[e._v("Venue details")])]),t("li",{class:{active:"tickets"==e.menuItem}},[t("button",{on:{click:function(t){e.menuItem="tickets"}}},[e._v("Tickets & badge")])])])]),e.announce?t("message-announce",{attrs:{message:e.announce},on:{closeMessage:function(t){return e.killMessage()}}}):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"globals"==e.menuItem,expression:"menuItem == 'globals'"}],staticClass:"main-column"},[t("h3",[e._v("Global setup")]),t("form",{attrs:{id:"globals"},on:{submit:function(t){return t.preventDefault(),e.sendOptions("globals")}}},[t("label",{attrs:{for:"name"}},[e._v("Event name "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.globals.event_name,expression:"globals.event_name"}],attrs:{type:"text",id:"name"},domProps:{value:e.globals.event_name},on:{input:function(t){t.target.composing||e.$set(e.globals,"event_name",t.target.value)}}})]),t("label",{attrs:{for:"payoff"}},[e._v("Event payoff "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.globals.event_payoff,expression:"globals.event_payoff"}],attrs:{type:"text",id:"payoff"},domProps:{value:e.globals.event_payoff},on:{input:function(t){t.target.composing||e.$set(e.globals,"event_payoff",t.target.value)}}})]),t("label",{attrs:{for:"date"}},[e._v("Event date "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.globals.event_date,expression:"globals.event_date"}],attrs:{type:"date",id:"date"},domProps:{value:e.globals.event_date},on:{input:function(t){t.target.composing||e.$set(e.globals,"event_date",t.target.value)}}})]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"start"}},[e._v("Kick-off time "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.globals.event_start,expression:"globals.event_start"}],attrs:{type:"time",id:"start"},domProps:{value:e.globals.event_start},on:{input:function(t){t.target.composing||e.$set(e.globals,"event_start",t.target.value)}}})]),t("label",{attrs:{for:"end"}},[e._v("Event end time "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.globals.event_end,expression:"globals.event_end"}],attrs:{type:"time",id:"end"},domProps:{value:e.globals.event_end},on:{input:function(t){t.target.composing||e.$set(e.globals,"event_end",t.target.value)}}})])]),t("input",{attrs:{type:"submit",value:"Save edits"}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"apis"==e.menuItem,expression:"menuItem == 'apis'"}],staticClass:"main-column"},[t("h3",[e._v("APIs setup")]),t("form",{attrs:{id:"apis"},on:{submit:function(t){return t.preventDefault(),e.sendOptions("apis")}}},[t("label",{attrs:{for:"stripe_key"}},[e._v("Stripe API key "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apis.alt_stripe_key,expression:"apis.alt_stripe_key"}],attrs:{type:"text",id:"stripe_key"},domProps:{value:e.apis.alt_stripe_key},on:{input:function(t){t.target.composing||e.$set(e.apis,"alt_stripe_key",t.target.value)}}})]),t("label",{attrs:{for:"webhook"}},[e._v("Stripe webhook key "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apis.stripe_webhook,expression:"apis.stripe_webhook"}],attrs:{type:"text",id:"webhook"},domProps:{value:e.apis.stripe_webhook},on:{input:function(t){t.target.composing||e.$set(e.apis,"stripe_webhook",t.target.value)}}})]),t("label",{attrs:{for:"hubspot-api"}},[e._v("Hubspot API key "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apis.hubspot_key,expression:"apis.hubspot_key"}],attrs:{type:"text",id:"hubspot-api"},domProps:{value:e.apis.hubspot_key},on:{input:function(t){t.target.composing||e.$set(e.apis,"hubspot_key",t.target.value)}}})]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"hubspot-list"}},[e._v("Hubspot list ID "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apis.hubspot_list,expression:"apis.hubspot_list"}],attrs:{type:"text",id:"hubspot-list"},domProps:{value:e.apis.hubspot_list},on:{input:function(t){t.target.composing||e.$set(e.apis,"hubspot_list",t.target.value)}}})]),t("label",{attrs:{for:"tag"}},[e._v("Hubspot event tag (used in form to link to static list) "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apis.event_tag,expression:"apis.event_tag"}],attrs:{type:"text",id:"tag"},domProps:{value:e.apis.event_tag},on:{input:function(t){t.target.composing||e.$set(e.apis,"event_tag",t.target.value)}}})])]),t("input",{attrs:{type:"submit",value:"Save edits"}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"venue"==e.menuItem,expression:"menuItem == 'venue'"}],staticClass:"main-column"},[t("h3",[e._v("Venue setup")]),t("form",{attrs:{id:"venue"},on:{submit:function(t){return t.preventDefault(),e.sendOptions("venue")}}},[t("label",{attrs:{for:"venue_name"}},[e._v("Name of venue "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.venue.venue_name,expression:"venue.venue_name"}],attrs:{type:"text",id:"venue_name"},domProps:{value:e.venue.venue_name},on:{input:function(t){t.target.composing||e.$set(e.venue,"venue_name",t.target.value)}}})]),t("label",{attrs:{for:"venue_address"}},[e._v("Venue address "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.venue.venue_address,expression:"venue.venue_address"}],attrs:{type:"text",id:"venue_address"},domProps:{value:e.venue.venue_address},on:{input:function(t){t.target.composing||e.$set(e.venue,"venue_address",t.target.value)}}})]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"venue_city"}},[e._v("Venue city "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.venue.venue_city,expression:"venue.venue_city"}],attrs:{type:"text",id:"venue_city"},domProps:{value:e.venue.venue_city},on:{input:function(t){t.target.composing||e.$set(e.venue,"venue_city",t.target.value)}}})]),t("label",{attrs:{for:"venue_country"}},[e._v("Venue country "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.venue.venue_country,expression:"venue.venue_country"}],attrs:{type:"text",id:"venue_country"},domProps:{value:e.venue.venue_country},on:{input:function(t){t.target.composing||e.$set(e.venue,"venue_country",t.target.value)}}})])]),t("label",{attrs:{for:"venue_max"}},[e._v("Maximum attendees permitted "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.venue.max_attendees,expression:"venue.max_attendees"}],attrs:{type:"number",id:"venue_max"},domProps:{value:e.venue.max_attendees},on:{input:function(t){t.target.composing||e.$set(e.venue,"max_attendees",t.target.value)}}})]),t("input",{attrs:{type:"submit",value:"Save edits"}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"tickets"==e.menuItem,expression:"menuItem == 'tickets'"}],staticClass:"main-column"},[t("h3",[e._v("Tickets & badge setup")]),t("form",{attrs:{id:"badge"},on:{submit:function(t){return t.preventDefault(),e.sendOptions("badges")}}},[e._m(0),t("label",{attrs:{for:"ticket_price"}},[e._v("Ticket price "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.ticket_price,expression:"badges.ticket_price"}],attrs:{type:"number",id:"ticket_price"},domProps:{value:e.badges.ticket_price},on:{input:function(t){t.target.composing||e.$set(e.badges,"ticket_price",t.target.value)}}})]),t("p",[e._v("Text positioning badge page 1")]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"p1x"}},[e._v("X coordinate "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_x,expression:"badges.badge_x"}],attrs:{type:"number",id:"p1x"},domProps:{value:e.badges.badge_x},on:{input:function(t){t.target.composing||e.$set(e.badges,"badge_x",t.target.value)}}})]),t("label",{attrs:{for:"p1y"}},[e._v("Y coordinate "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_y,expression:"badges.badge_y"}],attrs:{type:"number",id:"p1y"},domProps:{value:e.badges.badge_y},on:{input:function(t){t.target.composing||e.$set(e.badges,"badge_y",t.target.value)}}})])]),t("p",[e._v("Text positioning badge page 2")]),t("div",{staticClass:"double"},[t("label",{attrs:{for:"p2x"}},[e._v("X coordinate "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_x_p2,expression:"badges.badge_x_p2"}],attrs:{type:"number",id:"p2x"},domProps:{value:e.badges.badge_x_p2},on:{input:function(t){t.target.composing||e.$set(e.badges,"badge_x_p2",t.target.value)}}})]),t("label",{attrs:{for:"p2y"}},[e._v("Y coordinate "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.badges.badge_y_p2,expression:"badges.badge_y_p2"}],attrs:{type:"number",id:"p2y"},domProps:{value:e.badges.badge_y_p2},on:{input:function(t){t.target.composing||e.$set(e.badges,"badge_y_p2",t.target.value)}}})])]),t("input",{attrs:{type:"submit",value:"Save edits"}})])])],1)},X=[function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"badge_template"}},[e._v("Badge template "),t("input",{attrs:{type:"file",id:"badge_template"}})])}],Z={name:"SetUp",components:{MessageAnnounce:w},data(){return{menuItem:"globals",announce:null,globals:{event_name:"xxxx",event_payoff:"ccccc",event_date:null,event_start:null,event_end:null},apis:{alt_stripe_key:null,stripe_webhook:null,event_tag:null,hubspot_list:null,hubspot_key:null},venue:{venue_name:null,venue_address:null,venue_city:null,venue_country:null,max_attendees:null},badges:{badge_template:null,ticket_price:null,badge_x:null,badge_y:null,badge_x_p2:null,badge_y_p2:null}}},methods:{killMessage(){this.announce=null},async sendOptions(e){const t=JSON.stringify(this[e]),o=d.optionsRoute,n={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(o,{method:"POST",headers:n,body:t}).then((e=>e.json())).then((e=>{this.announce=e}))},async getAllOptions(){const e=d.AllOptionsRoute,t={credentials:"same-origin","Content-Type":"application/json","X-WP-Nonce":this.nonce};fetch(e,{method:"GET",headers:t}).then((e=>e.json())).then((e=>{Object.entries(e).forEach((([t])=>{const o=e[t][0],n=e[t][1];(this.globals[o]||null===this.globals[o])&&(this.globals[o]=n),(this.apis[o]||null===this.apis[o])&&(this.apis[o]=n),(this.venue[o]||null===this.venue[o])&&(this.venue[o]=n),(this.badges[o]||null===this.badges[o])&&(this.badges[o]=n)}))}))}},mounted(){this.getAllOptions()}},F=Z,q=(0,b.Z)(F,G,X,!1,null,null,null),U=q.exports,Y={name:"App",data(){return{currentPage:"setup"}},components:{NavBar:R,setup:U,RegistrationsList:W,CouponsManagement:E,DataPlay:j},methods:{goToPage(e){this.currentPage=e}}},J=Y,K=(0,b.Z)(J,a,i,!1,null,null,null),Q=K.exports;const ee=wpApiSettings;n.ZP.config.productionTip=!1,n.ZP.prototype.$wp=ee,n.ZP.mixin({data(){return{nonce:this.$wp.nonce}}}),new n.ZP({render:e=>e(Q)}).$mount("#app"),n.ZP.use(s.Z,{bodyScrollOptions:{reserveScrollBarGap:!0}})}},t={};function o(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,n,s,a){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],a=e[c][2];for(var r=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[l])}))?n.splice(l--,1):(r=!1,a<i&&(i=a));if(r){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,s,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,a,i=n[0],r=n[1],l=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(l)var c=l(o)}for(t&&t(n);u<i.length;u++)a=i[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},n=self["webpackChunkcore"]=self["webpackChunkcore"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(6438)}));n=o.O(n)})();
//# sourceMappingURL=app.1b72acf7.js.map